function jsc(e){return"cmodules/"+e}function onLoginFailed(e,t){__qlClear()}function onLoginCaptcha(e,t){__qlClear()}function debugLog(e){try{var t="["+((new Date).getTime()-_logTimer)/1e3+"] ";ge("debuglog")&&(null===e?e="[NULL]":void 0===e&&(e="[UNDEFINED]"),ge("debuglog").innerHTML+=t+e.toString().replace("<","&lt;").replace(">","&gt;")+"<br/>"),window.console&&console.log&&(Array.prototype.unshift.call(arguments,t),console.log.apply(console,arguments))}catch(o){}}function isRetina(){return window.devicePixelRatio>=2}function onlinePlatformClass(e){var t="";return e&&(t+="online "),mobPlatforms[e]&&(t+="mobile"),t}function toggleOnline(e,t){removeClass(e,"online"),removeClass(e,"mobile"),addClass(e,onlinePlatformClass(t))}function updateOnlineText(){}function updateAriaElements(){}function updateAriaCheckboxes(){}function getRGB(e){var t;return e&&isArray(e)&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}function formatTime(e){var t,o,n;return e=Math.max(e,0),o=Math.round(e%60),t=o<10?"0"+o:o,e=Math.floor(e/60),n=e%60,t=n+":"+t,e=Math.floor(e/60),e>0&&(n<10&&(t="0"+t),t=e+":"+t),t}function vkNow(){return+new Date}function rand(e,t){return Math.random()*(t-e+1)+e}function irand(e,t){return Math.floor(rand(e,t))}function isUndefined(e){return"undefined"==typeof e}function isFunction(e){return"[object Function]"===Object.prototype.toString.call(e)}function isString(e){return"string"==typeof e}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)&&!(browser.msie8&&e&&"undefined"!==e.item&&"undefined"!==e.namedItem)}function isEmpty(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function isNumeric(e){return!isNaN(e)}function vkImage(){return window.Image?new Image:ce("img")}function intval(e){return e===!0?1:parseInt(e)||0}function floatval(e){return e===!0?1:parseFloat(e)||0}function positive(e){return e=intval(e),e<0?0:e}function replaceEntities(e){return se("<textarea>"+(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+"</textarea>").value}function clean(e){return e?(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function unclean(e){return replaceEntities((e+"").replace(/\t/g,"\n"))}function each(e,t){if(isObject(e)||"undefined"==typeof e.length){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t.call(e[o],o,e[o])===!1)break}else for(var n=0,i=e.length;n<i;n++){var a=e[n];if(t.call(a,n,a)===!1)break}return e}function indexOf(e,t,o){for(var n=o||0,i=(e||[]).length;n<i;n++)if(e[n]==t)return n;return-1}function inArray(e,t){return indexOf(t,e)!=-1}function clone(e,t){var o=isObject(e)||"undefined"==typeof e.length?{}:[];for(var n in e)(!/webkit/i.test(_ua)||"layerX"!=n&&"layerY"!=n&&"webkitMovementX"!=n&&"webkitMovementY"!=n)&&(t&&"object"==typeof e[n]&&"prototype"!==n&&null!==e[n]?o[n]=clone(e[n]):o[n]=e[n]);return o}function arrayKeyDiff(e){var t,o,n={},i=1,a=arguments.length,r=arguments;for(t in e){for(o=!1,i=1;i<a;i++)r[i][t]&&r[i][t]==e[t]&&(o=!0);o||(n[t]=e[t])}return n}function extend(){var e,t=arguments,o=t[0]||{},n=1,i=t.length,a=!1;for("boolean"==typeof o&&(a=o,o=t[1]||{},n=2),"object"==typeof o||isFunction(o)||(o={});n<i;++n)if(null!=(e=t[n]))for(var r in e){var s=o[r],l=e[r];o!==l&&(a&&l&&"object"==typeof l&&!l.nodeType?o[r]=extend(a,s||(null!=l.length?[]:{}),l):void 0!==l&&(o[r]=l))}return o}function cleanObj(e){if(isObject(e)){var t={};for(var o in e)t[o.replace(/[^a-zA-Z0-9_\-]/g,"")]=cleanObj(e[o])}else if(isArray(e)){var t=[];for(var o in e)t.push(cleanObj(e[o]))}else{var n=typeof e;if("number"==n||"boolean"==n||"function"==n)var t=e;else var t=clean(e)}return t}function hashCode(e){var t=0;if(0===e.length)return t;for(var o=0,n=e.length;o<n;o++){var i=e.charCodeAt(o);t=(t<<5)-t+i,t|=0}return t}function data(e,t,o){var n,i=e[vkExpand];return i||(i=e[vkExpand]=++vkUUID),t&&!vkCache[i]&&(vkCache[i]={},__debugMode&&(vkCache[i].__elem=e)),o!==n&&(vkCache[i][t]=o),t?vkCache[i][t]:i}function attr(e,t,o){return e=ge(e),"undefined"==typeof o?e.getAttribute(t):(e.setAttribute(t,o),o)}function removeAttr(e){for(var t=0;t<arguments.length;++t){var o=arguments[t];if(void 0!==e[o])try{delete e[o]}catch(n){try{e.removeAttribute(o)}catch(n){}}}}function removeData(e,t){var o=!!e&&e[vkExpand];if(o)if(t){if(vkCache[o]){delete vkCache[o][t],t="";for(t in vkCache[o])break;t||removeData(e)}}else removeEvent(e),removeAttr(e,vkExpand),delete vkCache[o]}function cleanElems(){for(var e=arguments,t=0;t<e.length;++t){var o=ge(e[t]);o&&(removeData(o),removeAttr(o,"btnevents"))}}function trim(e){return(e||"").replace(/^\s+|\s+$/g,"")}function stripHTML(e){return e?e.replace(/<(?:.|\s)*?>/g,""):""}function escapeRE(e){return e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):""}function langWordNumeric(e,t,o){return isArray(t)&&e<t.length?t[e]:langNumeric(e,o)}function langNumeric(e,t,o){if(!t||!window.langConfig)return e;var n;if(isArray(t)?(n=t[1],e!=Math.floor(e)?n=t[langConfig.numRules["float"]]:each(langConfig.numRules["int"],function(o,i){if("*"==i[0])return n=t[i[2]],!1;var a=i[0]?e%i[0]:e;return indexOf(i[1],a)!=-1?(n=t[i[2]],!1):void 0})):n=t,o){for(var i=e.toString().split("."),a=[],r=i[0].length-3;r>-3;r-=3)a.unshift(i[0].slice(r>0?r:0,r+3));i[0]=a.join(langConfig.numDel),e=i.join(langConfig.numDec)}return n=(n||"%s").replace("%s",e)}function langSex(e,t){if(!isArray(t))return t;var o=t[1];return window.langConfig?(each(langConfig.sexRules,function(n,i){return"*"==i[0]?(o=t[i[1]],!1):e==i[0]&&t[i[1]]?(o=t[i[1]],!1):void 0}),o):o}function langStr(e){for(var t=e+"",o=arguments,n=o.length,i=1;i<n;i+=2){var a="%"==o[i][0]?o[i]:"{"+o[i]+"}";t=t.replace(a,o[i+1])}return t}function getLang(){try{var e=Array.prototype.slice.call(arguments),t=e.shift();if(!t)return"...";var o=window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!o){var n=t.split("_");return n.shift(),n.join(" ")}return isFunction(o)?o.apply(null,e):void 0===e[0]&&!isArray(o)||"raw"===e[0]?o:langNumeric(e[0],o,e[1])}catch(i){debugLog("lang error:"+i.message+"("+Array.prototype.slice.call(arguments).join(", ")+")")}}function checkTextLength(e,t,o,n,i,a,r){var s=t.getValue?t.getValue():t.value,l=t.lastLen||0;if(t.lastLen!==s.length||a){t.lastLen=s.length;var d={"&":5,"<":4,">":4,'"':6,"\n":n?1:4,"\r":0,"!":5,"'":5,$:6,"\\":6},c={1168:1,1169:1,8211:1,8212:1,8216:1,8217:1,8218:1,8230:1,8240:1,8249:1,8250:1,8364:1,8470:1,8482:1,65533:1},u={1037:1,1104:1,1117:1};i&&(d[","]=5);var h=function(e,t){for(var o=0,n=0,i=e.length;n<i;n++){var a=d[e.charAt(n)],s=e.charCodeAt(n);o+=void 0!==a?a:!r&&s>=128&&(s<1025||u[s]||s>1119)&&!c[s]&&(s<8220||s>8222)&&(s<8224||s>8226)?("&#"+s+";").length:1}return o},p=function(e,t){for(var o=0,n="",i=0,a=e.length;i<a;i++){var s=e.charAt(i),l=d[s],h=e.charCodeAt(i);if(o+=void 0!==l?l:!r&&h>=128&&(h<1025||u[h]||h>1119)&&!c[h]&&(h<8220||h>8222)&&(h<8224||h>8226)?("&#"+h+";").length:1,o>t)break;n+=s}return n},f=h(s,n);if(o=ge(o),f>e-100)if(show(o),f>e)if(i){var g=val(t,p(s,Math.min(e,l)));t.lastLen=g.length,o.innerHTML=getLang("text_N_symbols_remain",0)}else o.innerHTML=getLang("text_exceeds_symbol_limit",f-e);else o.innerHTML=getLang("text_N_symbols_remain",e-f);else hide(o)}}function winToUtf(e){return e.replace(/&#(\d\d+);/g,function(e,t){return t=intval(t),t>=32?String.fromCharCode(t):e}).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function parseLatin(e){for(var t=e,o=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�"],i=0;i<o.length;i++)t=t.split(o[i]).join(n[i]);for(var a="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCY¸¨",r="������������������������������������������������",i=0;i<a.length;i++)t=t.split(a.charAt(i)).join(r.charAt(i));return t==e?null:t}function addLangKeys(e,t){var o=t?window:window.cur;o.lang?extend(o.lang,e):o.lang=e}function parseLatin(e){for(var t=e,o=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�"],i=0,a=o.length;i<a;i++)t=t.split(o[i]).join(n[i]);for(var r="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCY��",s="������������������������������������������������",i=0,a=r.length;i<a;i++)t=t.split(r.charAt(i)).join(s.charAt(i));return t==e?null:t}function parseCyr(e){var t,o=e,n=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],i=["�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�"],a="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCY��",r="������������������������������������������������";for(t=0;t<i.length;t++)o=o.split(i[t]).join(n[t]);for(t=0;t<r.length;t++)o=o.split(r.charAt(t)).join(a.charAt(t));return o==e?null:o}function parseLatKeys(e){var t,o=e;for(lat="qwertyuiop[]asdfghjkl;'zxcvbnm,./`",rus="��������������������������������.�",t=0;t<lat.length;t++)o=o.split(lat.charAt(t)).join(rus.charAt(t));return o==e?null:o}function aquireLock(e,t,o){var n="lockkk_"+e;if(ls.get(n)!==!0){ls.set(n,!0);try{t()}catch(i){}return void ls.set(n,!1)}ls.checkVersion()?o||setTimeout(aquireLock.pbind(e,t,!0),100):t()}function statlogsValueEvent(e,t,o,n,i){if("undefined"!=typeof e&&"undefined"!=typeof t){var a,r="remixsts",s=[].slice.apply(arguments,[2,5]);aquireLock("stats_cookie_lock",function(){try{a=JSON.parse(getCookie(r)),a=a.data}catch(o){a=[]}for(a.push([Math.round(Date.now()/1e3),e,t].concat(s));a.length>100;)a.shift();var n=Math.round(rand(0,1e9));setCookie(r,JSON.stringify({data:a,uniqueId:n,source:"lite"}),.01)})}}function onLoaded(e){vk.loaded?e():addEvent(window,"load",e)}function serializeForm(e){if("object"!=typeof e)return!1;var t={},o=function(t){return geByTag(t,e)},n=function(o,n){n.name&&("text"!=n.type&&n.type?t[n.name]=browser.msie&&!n.value&&e[n.name]?e[n.name].value:n.value:t[n.name]=val(n))};return each(o("input"),function(e,t){if("radio"!=t.type&&"checkbox"!=t.type||t.checked)return n(e,t)}),each(o("select"),n),each(o("textarea"),n),t}function ajx2q(e){var t=[],o=function(e){try{return encodeURIComponent(e)}catch(t){return""}};for(var n in e)if(null!=e[n]&&!isFunction(e[n]))if(isArray(e[n]))for(var i=0,a=0;i<e[n].length;++i)null==e[n][i]||isFunction(e[n][i])||(t.push(o(n)+"["+a+"]="+o(e[n][i])),++a);else t.push(o(n)+"="+o(e[n]));return t.sort(),t.join("&")}function q2ajx(e){if(!e)return{};var t={},o=function(e){try{return decodeURIComponent(e)}catch(t){return e}};return e=e.split("&"),each(e,function(e,n){var i=n.split("=");if(i[0]){var a=o(i[1]+"");if("[]"==i[0].substr(i.length-2)){var r=o(i[0].substr(0,i.length-2));t[r]||(t[r]=[]),t[r].push(a)}else t[o(i[0])]=a}}),t}function HistoryAndBookmarks(e){var t,o=function(e){var t=e.split("#"),o=t[0].split("?");return o[0]+(o[1]?"?"+ajx2q(q2ajx(o[1])):"")+(t[1]?"#"+t[1]:"")},n=null,i=browser.msie6||browser.msie7,a=function(){return n.contentDocument||(n.contentWindow?n.contentWindow.document:n.document)},r=extend({onLocChange:function(){}},e),s=function(e){var t="";if(3==vk.al)t=(location.pathname||"")+(location.search||"")+(location.hash||"");else if(i&&!e)try{t=a().getElementById("loc").innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"').replace(/&amp;/gi,"&")}catch(n){t=l}else t=browser.msie6?(location.toString().match(/#(.*)/)||{})[1]||"":location.hash.replace(/^#/,""),t.substr(0,1)!=vk.navPrefix&&(t=(location.pathname||"")+(location.search||"")+(location.hash||""));return!t&&vk.al>1&&(t=(location.pathname||"")+(location.search||"")),o(t.replace(/^(\/|!)/,""))},l=s(!0),d=function(e){try{var t=a();t.open(),t.write('<div id="loc">'+e.replace("&","&amp;").replace('"',"&quot;").replace(">","&gt;").replace("<","&lt;")+"</div>"),t.close()}catch(o){}},c=function(e){l=o(e);var t=(location.toString().match(/#(.*)/)||{})[1]||"";if(!t&&vk.al>1&&(t=(location.pathname||"")+(location.search||"")),t=o(t),t.replace(/^(\/|!)/,"")!=l){if(3==vk.al)try{return void history.pushState({},"","/"+l)}catch(n){}window.chHashFlag=!0,location.hash="#"+vk.navPrefix+l,i&&s()!=l&&d(l)}},u=function(){var e=s(!0);e!=l&&d(e)},h=function(e){var t=s();t==l&&e!==!0||(r.onLocChange(t),l=t,i&&location.hash.replace("#"+vk.navPrefix,"")!=t&&(location.hash="#"+vk.navPrefix+t))},p=function(){try{if("complete"!=n.contentWindow.document.readyState)return}catch(e){return}h()},f=function(){1==vk.al&&h(!0),vk.al<3?i?(n=document.createElement("iframe"),n.id="hab_frame",n.attachEvent("onreadystatechange",p),n.src="al_loader.php?act=hab_frame&loc="+encodeURIComponent(l)+"&domain="+encodeURIComponent(locDomain),utilsNode.appendChild(n),t=setInterval(u,200)):"onhashchange"in window?addEvent(window,"hashchange",function(){window.chHashFlag?window.chHashFlag=!1:h()}):t=setInterval(h,200):3==vk.al&&addEvent(window,"popstate",h)};return{setLoc:c,getLoc:s,init:f,setOptions:function(e){r=extend(r,e)},checker:h,stop:function(){vk.al<3?(clearInterval(t),i&&n.detachEvent("onreadystatechange",p)):3==vk.al&&removeEvent(window,"popstate",h)}}}function goAway(e,t,o){return!0}function processDestroy(e){if(e._back&&e._back.hide&&e==cur)for(var t in e._back.hide)try{e._back.hide[t]()}catch(o){}if(e.destroy&&e.destroy.length)for(var t in e.destroy)try{e.destroy[t](e)}catch(o){}}function addEvent(e,t,o,n,i){if(e=ge(e),e&&3!=e.nodeType&&8!=e.nodeType){var a=i?function(e){var t=e.data;e.data=i;var n=o.apply(this,[e]);return e.data=t,n}:o;e.setInterval&&e!=window&&(e=window);var r=data(e,"events")||data(e,"events",[]),s=data(e,"handle")||data(e,"handle",function(){_eventHandle.apply(arguments.callee.elem,arguments)});s.elem=e,each(t.split(/\s+/),function(t,o){r[o]||(r[o]=[],!n&&e.addEventListener?e.addEventListener(o,s,!1):!n&&e.attachEvent&&e.attachEvent("on"+o,s)),r[o].push(a)}),e=null}}function removeEvent(e,t,o){if(e=ge(e)){var n=data(e,"events");if(n)if("string"==typeof t)each(t.split(/\s+/),function(t,i){if(isArray(n[i])){if(isFunction(o)){for(var a=0;a<n[i].length;a++)if(n[i][a]==o){for(var r=a+1;r<n[i].length;r++)n[i][r-1]=n[i][r];n[i].pop();break}}else for(var a=0;a<n[i].length;a++)delete n[i][a];n[i].length||(e.removeEventListener?e.removeEventListener(i,data(e,"handle"),!1):e.detachEvent&&e.detachEvent("on"+i,data(e,"handle")),delete n[i])}});else for(var i in n)removeEvent(e,i)}}function triggerEvent(e,t,o){var n=data(e,"handle");n&&setTimeout(function(){n.call(e,extend(o||{},{type:t,target:e}))},0)}function cancelEvent(e){return!!(e=e||window.event)&&(e=e.originalEvent||e,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1)}function stopEvent(e){if(e=e||window.event,!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function _eventHandle(e){e=e||window.event;var t=e;if(e=clone(t),e.originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target),null==e.pageX&&null!=e.clientX){var o=document.documentElement,n=bodyNode||document.body;e.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o.clientTop||0)}!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0);var i=data(this,"events");if(i&&"string"==typeof e.type&&i[e.type]&&i[e.type].length)for(var a in i[e.type]||[]){if("mouseover"==e.type||"mouseout"==e.type){for(var r=e.relatedElement;r&&r!=this;)try{r=r.parentNode}catch(s){r=this}if(r==this)continue}var l=i[e.type][a].apply(this,arguments);l===!1&&cancelEvent(e)}}function normEvent(e){e=e||window.event;var t=e;if(e=clone(t),e.originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target),null==e.pageX&&null!=e.clientX){var o=document.documentElement,n=bodyNode;e.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&browser.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function onCtrlEnter(e,t){e=e||window.event,(10==e.keyCode||e.ctrlKey&&13==e.keyCode)&&t()}function domStarted(){window.headNode=geByTag1("head");var e=ge("box_layer_bg"),t=e.nextSibling;if(extend(window,{icoNode:geByTag1("link",headNode),bodyNode:geByTag1("body"),htmlNode:geByTag1("html"),utilsNode:ge("utils"),layerBG:null,boxLayerBG:e,boxLayerWrap:t,boxLayer:t.firstChild,boxLoader:t.firstChild.firstChild,__afterFocus:!1,__needBlur:!1}),utilsNode){for(var o in StaticFiles){var n=StaticFiles[o];n.l=1,"css"==n.t&&utilsNode.appendChild(ce("div",{id:n.n}))}addEvent(boxLayerWrap,"click",__bq.hideLastCheck),extend(layers,{boxshow:layers._show.pbind(e,t),boxhide:layers._hide.pbind(e,t)}),hab.init()}}function domReady(){if(utilsNode){extend(window,{pageNode:document.body}),window.scrollNode=browser.msie6?pageNode:browser.chrome||browser.safari?bodyNode:htmlNode,onBodyResize();browser.msie6?pageNode:window}}function onDomReady(e){e()}function checkEvent(e){return(e=e||window.event)&&("click"==e.type||"mousedown"==e.type||"mouseup"==e.type)&&(e.which>1||e.button>1||e.ctrlKey||e.shiftKey||browser.mac&&e.metaKey)||!1}function checkKeyboardEvent(e){if(e=normEvent(e),!e||!e.target)return!1;if(!e.screenX)return!0;var t=getSize(e.target),o=getXY(e.target),n=e.pageX-o[0],i=e.pageY-o[1];return n<0||n>t[0]||i<0||i>t[1]||Math.abs(e.pageX-o[0]-t[0]/2)<1&&Math.abs(e.pageY-o[1]-t[1]/2)<1}function setWorkerTimeout(e,t){if(window.Worker&&window.Blob){var o=new Blob(["       var timeout;       onmessage = function(e) {         clearTimeout(timeout);         if (e.data == 'start') {           timeout = setTimeout(function() { postMessage({}); }, "+t+");         }       }     "]);try{var n=new Worker(window.URL.createObjectURL(o));n.onmessage=function(){n.terminate(),e()},n.postMessage("start")}catch(i){n=!1}return n}return setTimeout(e,t)}function clearWorkerTimeout(e){return!!e&&void(isNumeric(e)?clearTimeout(e):e.terminate())}function addTemplates(e){window.templates=window.templates||{},extend(window.templates,e)}function getTemplate(e,t){var o=window.templates=window.templates||{},n=o[e];return n&&t?rs(n,t):n}function _initCookies(){_cookies={};for(var e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i,o=0;o<e.length;o++){var n=e[o].split("=");2==n.length&&(_cookies[n[0].match(t)[1]]=unescape(n[1].match(t)?n[1].match(t)[1]:""))}}function getCookie(e){return _initCookies(),_cookies[e]}function setCookie(e,t,o){var n="";if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),n="; expires="+i.toGMTString()}var a=locDomain;document.cookie=e+"="+escape(t)+n+"; path=/"+(a?"; domain=."+a:"")}function domClosestOverflowHidden(e){e=ge(e);for(var t,o,n,i,a=e;a&&a.tagName&&a!==bodyNode&&(t=getStyle(a,"position"),o=getStyle(a,"overflow"),n=getStyle(a,"transform"),a===e||"visible"===o||("static"===t?i&&"relative"!==i:"fixed"===i));)"none"!==n?i=void 0:"static"!==t&&"fixed"!==i&&(i=t),a=domPN(a);return a}function nodeUpdated(e,t){setStyle(e,{backgroundColor:"#F5F7FA"}),animate(e,{backgroundColor:"#FFF"},t||6e3,function(e){setStyle(e,{backgroundColor:null})})}function getColor(e,t){var o;do{if(o=getStyle(e,t),o.indexOf("rgba")||(o=""),""!=o&&"transparent"!=o||"body"==e.nodeName.toLowerCase())break;t="backgroundColor"}while(e=e.parentNode);return getRGB(o)}function scrollToTop(e){void 0==e&&(e=400),e?browser.msie6?animate(pageNode,{scrollTop:0},e):(animate(htmlNode,{scrollTop:0},e),animate(bodyNode,{scrollTop:0},e)):(window.scroll(0,0),browser.msie6&&(pageNode.scrollTop=0))}function scrollGetY(){return window.pageYOffset||scrollNode.scrollTop||document.documentElement.scrollTop}function ge(e){return"string"==typeof e||"number"==typeof e?document.getElementById(e):e}function geByTag(e,t){return t=ge(t)||document,t.getElementsByTagName(e)}function geByTag1(e,t){return t=ge(t)||document,t.querySelector&&t.querySelector(e)||geByTag(e,t)[0]}function geByClass(e,t,o){t=ge(t)||document,o=o||"*";var n=[];if(!browser.msie8&&t.querySelectorAll&&"*"!=o)return t.querySelectorAll(o+"."+e);if(t.getElementsByClassName){var i=t.getElementsByClassName(e);if("*"!=o){o=o.toUpperCase();for(var a=0,r=i.length;a<r;++a)i[a].tagName.toUpperCase()==o&&n.push(i[a])}else n=Array.prototype.slice.call(i);return n}for(var s=geByTag(o,t),l=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0,r=s.length;a<r;++a)l.test(s[a].className)&&n.push(s[a]);return n}function geByClass1(e,t,o){return t=ge(t)||document,o=o||"*",!browser.msie8&&t.querySelector&&t.querySelector(o+"."+e)||geByClass(e,t,o)[0]}function gpeByClass(e,t,o){if(t=ge(t),!t)return null;for(;o!==t&&(t=t.parentNode);)if(hasClass(t,e))return t;return null}function domClosest(e,t){return hasClass(t,e)?t:gpeByClass(e,t)}function ce(e,t,o){var n=document.createElement(e);return t&&extend(n,t),o&&setStyle(n,o),n}function re(e){return e=ge(e),e&&e.parentNode&&e.parentNode.removeChild(e),e}function se(e){return domFC(ce("div",{innerHTML:e}))}function sech(e){return domChildren(ce("div",{innerHTML:e}))}function rs(e,t){return each(t,function(t,o){e=e.replace(new RegExp("%"+t+"%","g"),o)}),e}function psr(e){return"https:"!=locProtocol?e:(e=e.replace(/http:\/\/(cs(\d+)\.vk\.me\/c(\d+)\/)/gi,"https://$1"),e=e.replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/c(\d+)\/(v\d+\/|[a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$3/$4"),e=e.replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/([a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$1/$3"),e=e.replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\//gi,"https://ps.vk.me/c$1/"),e=e.replace(/http:\/\/video(\d+)\.vkadre\.ru\//gi,"https://ps.vk.me/v$1/"))}function domEL(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}function domNS(e){return domEL((e||{}).nextSibling)}function domPS(e){return domEL((e||{}).previousSibling,1)}function domFC(e){return domEL((e||{}).firstChild)}function domLC(e){return domEL((e||{}).lastChild,1)}function domPN(e){return(e||{}).parentNode}function domChildren(e){for(var t=[],o=e.childNodes,n=0;n<o.length;n++)o[n].tagName&&t.push(o[n]);return t}function domInsertBefore(e,t){var o=domPN(t);return o&&o.insertBefore(e,t)}function domInsertAfter(e,t){var o=domPN(t);return o&&o.insertBefore(e,domNS(t))}function domByClass(e,t){return e?geByClass1(t,e):e}function domData(e,t,o){return e?"undefined"!=typeof o?(null===o?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,o),o):e.getAttribute("data-"+t):null}function matchesSelector(e,t){if(e=ge(e),!e||e==document)return!1;var o=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(e){for(var t=(this.parentNode||this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t[o]!==this;);return o>-1};return o.call(e,t)}function isHover(e){return matchesSelector(e,":hover")}function isAncestor(e,t){var o=ge(e);if(t=ge(t),!e||!t)return!1;for(;o=o.parentNode;)if(o==t)return!0;return!1}function domClosestPositioned(e,t){t=t||{};for(var o=t.fromEl||domPN(e),n=t.positions||["relative","absolute","fixed"];o&&o!=bodyNode;){var i=getStyle(o,"position");if(inArray(i,n)&&(!t.noOverflow||"hidden"!=getStyle(o,"overflow")))break;o=domPN(o)}return o}function show(e){var t=arguments.length;if(t>1)for(var o=0;o<t;o++)show(arguments[o]);else if(e=ge(e),e&&e.style){var n=e.olddisplay,i="block",a=e.tagName.toLowerCase();e.style.display=n||"","none"===getStyle(e,"display")&&(i=hasClass(e,"inline")||hasClass(e,"_inline")?"inline":hasClass(e,"_inline_block")?"inline-block":"tr"!==a||browser.msie?"table"!==a||browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=i)}}function hide(e){var t=arguments.length;if(t>1)for(var o=0;o<t;o++)hide(arguments[o]);else if(e=ge(e),e&&e.style){var n=getStyle(e,"display");e.olddisplay="none"!=n?n:"",e.style.display="none"}}function isVisible(e){return e=ge(e),!(!e||!e.style)&&"none"!=getStyle(e,"display")}function clientHeight(){return window.innerHeight||docEl.clientHeight||bodyNode.clientHeight}function getClientRectOffsetY(e,t,o){e=ge(e),o=o||0;var n=getXY(e)[1],i=getSize(e)[1],a=window,r=document.documentElement,s=Math.max(intval(a.innerHeight),intval(r.clientHeight)),l=ge("page_header_cont"),d=getSize(l)[1],c=r.scrollTop||bodyNode.scrollTop||window.scrollY||0;if(t){if(n+i<c+d+o)return n+i-c-d-o;if(n>c+s-o)return n-c-s+o}else{if(n<c+d+o)return n-c+d-o;if(n+i>c+s-o)return n+i-c-s+o}return 0}function toggle(e,t){return void 0===t&&(t=!isVisible(e)),t?show(e):hide(e),t}function toggleFlash(e,t){if(clearTimeout(hfTimeout),t>0)return void(hfTimeout=setTimeout(function(){toggleFlash(e,0)},t));var o=e?"visible":"hidden";triggerEvent(document,e?"unblock":"block");var n=function(){this.getAttribute("preventhide")||("flash_app"==this.id&&browser.msie?e?setStyle(this,{position:"static",top:0}):setStyle(this,{position:"absolute",top:"-5000px"}):this.style.visibility=o)};each(geByTag("embed"),n),each(geByTag("object"),n)}function boundingRectEnabled(e){return"undefined"!=typeof e.getBoundingClientRect}function getXYRect(e,t){var o;if(t&&"inline"==getStyle(e,"display")){var n=e.getClientRects();o=n&&n[0]||e.getBoundingClientRect()}else o=e.getBoundingClientRect();return o}function getXY(e,t){if(e=ge(e),!e)return[0,0];var o,n,i={top:0,left:0},a=e.ownerDocument;return a?(o=a.documentElement,boundingRectEnabled(e)&&(i=getXYRect(e,!0)),n=a==a.window?a:9===a.nodeType&&(a.defaultView||a.parentWindow),[i.left+(t?0:n.pageXOffset||o.scrollLeft)-(o.clientLeft||0),i.top+(t?0:n.pageYOffset||o.scrollTop)-(o.clientTop||0)]):[0,0]}function isWindow(e){return null!=e&&e===e.window}function getSize(e,t,o){function n(){if(a=boundingRectEnabled(e)&&(i=getXYRect(e,o))&&void 0!==i.width?[i.width,i.height]:[e.offsetWidth,e.offsetHeight],t){each(a,function(t,o){var n=t?["Top","Bottom"]:["Left","Right"];each(n,function(){a[t]-=parseFloat(getStyle(e,"padding"+this))||0,a[t]-=parseFloat(getStyle(e,"border"+this+"Width"))||0})})}}e=ge(e);var i,a=[0,0],r=document.documentElement;if(t&&"border-box"===getStyle(e,"boxSizing")&&(t=!1),e==document)a=[Math.max(r.clientWidth,bodyNode.scrollWidth,r.scrollWidth,bodyNode.offsetWidth,r.offsetWidth),Math.max(r.clientHeight,bodyNode.scrollHeight,r.scrollHeight,bodyNode.offsetHeight,r.offsetHeight)];else if(e)if(isVisible(e))n();else{var s={position:"absolute",visibility:"hidden",display:"block"},l={},d=!1;e.style.cssText.indexOf("!important")>-1&&(d=e.style.cssText),each(s,function(t,o){l[t]=e.style[t],e.style[t]=o}),n(),each(s,function(t,o){e.style[t]=l[t]}),d&&(e.style.cssText=d)}return a}function _getSize(e,t,o){function n(){if(a=boundingRectEnabled(e)&&(i=getXYRect(e,o))&&void 0!==i.width?[i.width,i.height]:[e.offsetWidth,e.offsetHeight],t){each(a,function(t,o){var n=t?["Top","Bottom"]:["Left","Right"];each(n,function(){a[t]-=parseFloat(getStyle(e,"padding"+this))||0,a[t]-=parseFloat(getStyle(e,"border"+this+"Width"))||0})})}}e=ge(e);var i,a=[0,0],r=document.documentElement;if(t&&"border-box"===getStyle(e,"boxSizing")&&(t=!1),e==document)a=[Math.max(r.clientWidth,bodyNode.scrollWidth,r.scrollWidth,bodyNode.offsetWidth,r.offsetWidth),Math.max(r.clientHeight,bodyNode.scrollHeight,r.scrollHeight,bodyNode.offsetHeight,r.offsetHeight)];else if(e)if(isVisible(e))n();else{var s={position:"absolute",visibility:"hidden",display:"block"},l={},d=!1;e.style.cssText.indexOf("!important")>-1&&(d=e.style.cssText),each(s,function(t,o){l[t]=e.style[t],e.style[t]=o}),n(),each(s,function(t,o){e.style[t]=l[t]}),d&&(e.style.cssText=d)}return a}function getZoom(){var e=ge("zoom_test_1")||document.body.appendChild(ce("div",{id:"zoom_test_1"},{left:"10%",position:"absolute",visibility:"hidden"})),t=ge("zoom_test_2")||document.body.appendChild(ce("div",{id:"zoom_test_2"},{left:e.offsetLeft+"px",position:"absolute",visibility:"hidden"}));return t.offsetLeft/e.offsetLeft}function imagesLoader(e,t){function o(e,t){a[e]&&(--r,delete a[e]),t||obj.processLoad()}function n(t){var o=0,n=t;if(n&&n.offsetParent)do if(o+=n.offsetTop,e&&n.offsetParent===e)break;while(n=n.offsetParent);return o}var i={top_load:0,bottom_load:2,load_limit:10,need_load_class:"__need_load",skip_process_load:!1,use_iframe:!1},a=[],r=0,s=null,l=extend(i,t);return obj={},obj.processLoad=function(){for(var t in a){var i=a[t],d=i[0],c=i[1];(c.width||c.height||vkNow()-d>2e4)&&a[t]&&o.call(c,t,!0)}if(clearTimeout(s),r&&(s=setTimeout(obj.processLoad,500)),!(r>=l.load_limit)){var u=geByClass(l.need_load_class,e||bodyNode),h=[];if(e)var p=e.offsetHeight,f=e.scrollTop-p*l.top_load,g=e.scrollTop+p*l.bottom_load;for(var v=0,m=u.length;v<m&&r<l.load_limit;v++){var c=u[v];if("IMG"==c.tagName){var t=c.getAttribute("data-src");if(t){if(e){var _=n(c),b=_+c.parentNode.offsetHeight;if(_>g)continue;if(b<f)continue}h.push([c,t])}}}each(h,function(){var e=this[0],t=this[1];obj.iloader&&obj.iloader.add(t,o,e),e.src=t,e.removeAttribute("data-src"),removeClass(e,l.need_load_class),a[t]||(++r,a[t]=[vkNow(),e])}),clearTimeout(s),r&&(s=setTimeout(obj.processLoad,500))}},obj.destroy=function(){a=[],r=0,clearTimeout(s)},l.use_iframe&&window.IframeLoader&&(obj.iloader=new IframeLoader),l.skip_process_load||obj.processLoad(),obj}function IframeLoader(){function e(e){try{return e.contentDocument?e.contentDocument:e.contentWindow&&e.contentWindow.document?e.contentWindow.document:e.document}catch(t){}return!1}function t(e){return l&&l.body?'<img id="___img'+e+'" />':'<img class="___img'+e+'" />'}function o(e){return l&&l.body?l.getElementById("___img"+e):geByClass1("___img"+e,d)}function n(){s=utilsNode.appendChild(ce("iframe")),l=e(s),d=l&&l.body?l.body:utilsNode.appendChild(ce("div",{},{display:"none"})),c=0,u=[]}function i(e,n,i){var a=c++;u[a]={src:e,onLoad:n,that:i},d.appendChild(ce("div",{innerHTML:t(a)}));var r=o(a);r.src=e,r.onload=function(){var e=u[a];e&&(e.onLoad&&e.onLoad.call(e.that||window,e.src),delete u[a],d.removeChild(o(a).parentNode))}}function a(){re(s),h=[];for(var e in u)h.push(u[e]);n()}function r(e){if(!h)return[];var t=[];for(var o in h){var n=h[o];i(n.src,n.onLoad,n.that),t.push(n.that)}if(h=null,e){var a=[];each(t,function(){a.push([this,this.src]),this.src="",hide(this)}),setTimeout(function(){each(a,function(){var e=this[0],t=this[1];e.src=t,show(e)})},10)}return t}var s,l,d,c,u,h;return n(),{add:i,abort:a,repeat:r}}function renderFlash(e,t,o,n){if(!t.url||!t.id)return!1;t=extend({version:9,width:1,height:1},t);var i=t.url;return stVersions[i]||(stVersions[i]=""),__debugMode&&stVersions[i]<1e6&&(stVersions[i]+=irand(1e6,2e6)),stVersions[i]&&(t.url+=(t.url.indexOf("?")==-1?"?":"&")+"_stV="+stVersions[i]),
o=extend({quality:"high",flashvars:ajx2q(n)},o),!(browser.flash<t.version)&&(ge(e).innerHTML=browser.flashwrap(t,o),!0)}function onBodyResize(e){var t=window,o=document.documentElement;if(t.pageNode){var n=Math.max(intval(t.innerWidth),intval(o.clientWidth)),i=Math.max(intval(t.innerHeight),intval(o.clientHeight)),a=sbWidth();if(browser.mobile?(n=Math.max(n,intval(bodyNode.scrollWidth)),i=Math.max(i,intval(bodyNode.scrollHeight))):browser.msie7?htmlNode.scrollHeight>htmlNode.offsetHeight&&(n+=a+1):browser.msie8&&htmlNode.scrollHeight+3>htmlNode.offsetHeight&&(n+=a+1),(t.lastWindowWidth!=n||e===!0)&&(t.lastInnerWidth=t.lastWindowWidth=n,bodyNode.offsetWidth<layoutWidth+a+2&&(n=layoutWidth+a+2),n))for(var r=pageNode.firstChild;r;r=r.nextSibling)if(r.tagName)for(var s=r.firstChild;s;s=s.nextSibling)"scroll_fix"==s.className&&(s.style.width=(t.lastInnerWidth=n-a*(browser.msie7?2:1)-1)-1+"px");t.lastWindowHeight==i&&e!==!0||(t.lastWindowHeight=i,browser.msie6&&(pageNode.style.height=i+"px")),cur.lSTL&&setStyle(cur.lSTL,{width:Math.max(getXY(cur.lSTL.el)[0],0),height:i-1})}}function redraw(e,t){e&&"fixed"==getStyle(e,"position")&&(t?removeClass(e,t):setStyle(e,{position:"relative"}),e.offsetLeft,t?addClass(e,t):setStyle(e,{position:"fixed"}))}function getProgressHtml(e,t){return rs(vk.pr_tpl,{id:e||"",cls:t||""})}function showProgress(e,t,o){if(e=ge(e)){var n=se(rs(vk.pr_tpl,{id:t||""}));return o?domInsertBefore(n,e):e.appendChild(n),setTimeout(function(){setStyle(n,{opacity:1})}),n}}function hideProgress(e){e&&re(geByClass1("pr",e))}function disableEl(e){setStyle(e,"pointer-events","none")}function enableEl(e){setStyle(e,"pointer-events","")}function throttle(e,t){var o;return function(){o||(e.apply(this,arguments),o=setTimeout(function(){o=!1},t))}}function shuffle(e){for(var t,o,n=e.length;n>0;)o=Math.floor(Math.random()*n),n--,t=e[n],e[n]=e[o],e[o]=t;return e}function getProgressHtml(e,t){return rs(vk.pr_tpl,{id:e||"",cls:t||""})}function debounce(e,t,o){var n;return function(){var i=this,a=arguments,r=function(){n=null,o||e.apply(i,a)},s=o&&!n;clearTimeout(n),n=setTimeout(r,t),s&&e.apply(i,a)}}function domCA(e,t){do e=domPN(e);while(e&&!matchesSelector(e,t));return e}function matchesSelector(e,t){var o=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(e){for(var t=(this.parentNode||this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t[o]!==this;);return o>-1};return o.call(e,t)}function isHover(e){return matchesSelector(e,":hover")}function isAncestor(e,t){var o=ge(e);if(t=ge(t),!e||!t)return!1;for(;o=o.parentNode;)if(o==t)return!0;return!1}function getScroll(){var e=browser.msie6?ge("PageContainer"):document.body,t=document.documentElement;return[e.scrollLeft||t.scrollLeft||window.pageXOffset||0,e.scrollTop||t.scrollTop||window.pageYOffset||0,t.clientWidth||e.clientWidth||0,t.clientHeight||e.clientHeight||0]}function hasClass(e,t){if(e=ge(e)){t=trim(t).replace(window.whitespaceRegex," ").split(" ");var o=!0,n=(" "+e.className+" ").replace(window.whitespaceRegex," ");return each(t,function(e,t){return o=n.indexOf(" "+t+" ")>=0}),o}}function addClass(e,t){(e=ge(e))&&!hasClass(e,t=trim(t).replace(window.whitespaceRegex," "))&&(e.className=(e.className?e.className+" ":"")+t)}function removeClass(e,t){(e=ge(e))&&(t=trim(t).replace(window.whitespaceRegex," ").split(" ").join("|"),e.className=trim((e.className||"").replace(new RegExp("\\b("+t+")\\b","g")," ")))}function toggleClass(e,t,o){return void 0===o&&(o=!hasClass(e,t)),(o?addClass:removeClass)(e,t),o}function addClassDelayed(e,t){setTimeout(addClass.pbind(e,t),0)}function removeClassDelayed(e,t){setTimeout(removeClass.pbind(e,t),0)}function toggleClassDelayed(e,t,o){return void 0===o&&(o=!hasClass(e,t)),(o?addClassDelayed:removeClassDelayed)(e,t),o}function replaceClass(e,t,o){removeClass(e,t),addClass(e,o)}function getStyle(e,t,o){if(e=ge(e),isArray(t)){var n={};return each(t,function(t,o){n[o]=getStyle(e,o)}),n}if(!e)return"";if(void 0===o&&(o=!0),!o&&"opacity"==t&&browser.msie){var i=e.style.filter;return i?i.indexOf("opacity=")>=0?parseFloat(i.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!o&&e.style&&(e.style[t]||"height"==t))return e.style[t];var a,r=document.defaultView||window;if(r.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var s=r.getComputedStyle(e,null);s&&(a=s.getPropertyValue(t))}else if(e.currentStyle){if("opacity"==t&&browser.msie){var i=e.currentStyle.filter;return i&&i.indexOf("opacity=")>=0?parseFloat(i.match(/opacity=([^)]*)/)[1])/100+"":"1"}var l=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()});a=e.currentStyle[t]||e.currentStyle[l],"auto"==a&&(a=0),a=(a+"").split(" "),each(a,function(t,o){if(!/^\d+(px)?$/i.test(o)&&/^\d/.test(o)){var n=e.style,i=n.left,r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,n.left=o||0,a[t]=n.pixelLeft+"px",n.left=i,e.runtimeStyle.left=r}}),a=a.join(" ")}if(o&&("width"==t||"height"==t)){var d=getSize(e,!0)[{width:0,height:1}[t]];a=(intval(a)?Math.max(floatval(a),d):d)+"px"}return a}function setStyle(e,t,o){if(e=ge(e)){if("object"==typeof t)return each(t,function(t,o){setStyle(e,t,o)});if("opacity"==t)browser.msie&&((o+"").length?1!==o?e.style.filter="alpha(opacity="+100*o+")":e.style.filter="":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity=o;else try{var n="number"==typeof o;n&&/height|width/i.test(t)&&(o=Math.abs(o)),e.style[t]=n&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?o+"px":o}catch(i){debugLog("setStyle error: ",[t,o],i)}}}function setPseudoStyle(e,t,o){var n=data(e,"pseudo-id");n||(data(e,"pseudo-id",n=irand(1e8,999999999)),addClass(e,"_pseudo_"+n));var i=t+"-style-"+n,a=ge(i),r="._pseudo_"+n+":"+t+"{";a||(a=headNode.appendChild(ce("style",{id:i,type:"text/css"}))),each(o,function(e,t){r+=e+": "+t+" !important;"}),r+="}",a.sheet?(a.sheet.cssRules.length&&a.sheet.deleteRule(0),a.sheet.insertRule(r,0)):a.styleSheet&&(a.styleSheet.cssText=r)}function animate(e,t,o,n){if(e=ge(e)){var i,a=isFunction(n)?n:function(){},r=extend({},"object"==typeof o?o:{duration:o,onComplete:a}),s={},l={},d=isVisible(e);r.orig={},t=clone(t),t.discrete&&(r.discrete=1,delete t.discrete),browser.iphone&&(r.duration=0);var c=data(e,"tween"),u=d?"hide":"show";c&&c.isTweening&&(r.orig=extend(r.orig,c.options.orig),c.stop(!1),c.options.show?u="hide":c.options.hide&&(u="show"));for(i in t){if(!c&&("show"==t[i]&&d||"hide"==t[i]&&!d))return r.onComplete.call(this,e);if("height"!=i&&"width"!=i||!e.style||(t.overflow||(void 0==r.orig.overflow&&(r.orig.overflow=getStyle(e,"overflow")),e.style.overflow="hidden"),hasClass(e,"inl_bl")||"TD"==e.tagName||(e.style.display="block")),/show|hide|toggle/.test(t[i]))if("toggle"==t[i]&&(t[i]=u),"show"==t[i]){var h=0;r.show=!0,void 0==r.orig[i]&&(r.orig[i]=getStyle(e,i,!1)||"",setStyle(e,i,0));var p;"height"==i&&browser.msie6?(p="0px",e.style.overflow=""):p=r.orig[i];var f=e.style[i];e.style[i]=p,t[i]=parseFloat(getStyle(e,i,!0)),e.style[i]=f,"height"==i&&browser.msie&&!t.overflow&&(e.style.overflow="hidden")}else void 0==r.orig[i]&&(r.orig[i]=getStyle(e,i,!1)||""),r.hide=!0,t[i]=0}return r.show&&!d&&show(e),c=new Fx.Base(e,r),each(t,function(t,o){if(/backgroundColor|borderBottomColor|borderLeftColor|borderRightColor|borderTopColor|color|borderColor|outlineColor/.test(t)){var n="borderColor"==t?"borderTopColor":t;if(h=getColor(e,n),o=getRGB(o),void 0===h)return}else{var i=o.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/);c.cur(t,!0)||0;i&&(o=parseFloat(i[2]),i[1]&&(o=("-="==i[1]?-1:1)*o+o)),r.hide&&"height"==t&&browser.msie6&&(e.style.height="0px",e.style.overflow=""),h=c.cur(t,!0),r.hide&&"height"==t&&browser.msie6&&(e.style.height="",e.style.overflow="hidden"),0!=h||"width"!=t&&"height"!=t||(h=1),"opacity"==t&&o>0&&!d&&(setStyle(e,"opacity",0),h=0,show(e))}(h!=o||isArray(h)&&h.join(",")==o.join(","))&&(s[t]=h,l[t]=o)}),c.start(s,l),data(e,"tween",c),c}}function cubicBezier(e,t,o,n,i,a){var r,s,l,d,c,u,h=function(t){var n=1-t;return 3*n*n*t*e+3*n*t*t*o+t*t*t},p=function(e){var o=1-e;return 3*o*o*e*t+3*o*e*e*n+e*e*e},f=function(t){var n=1-t;return 3*(2*(t-1)*t+n*n)*e+3*(-t*t*t+2*n*t)*o},g=i;for(l=g,u=0;u<8;u++){if(d=h(l)-g,Math.abs(d)<a)return p(l);if(c=f(l),Math.abs(c)<1e-6)break;l-=d/c}if(r=0,s=1,l=g,l<r)return p(r);if(l>s)return p(s);for(;r<s;){if(d=h(l),Math.abs(d-g)<a)return p(l);g>d?r=l:s=l,l=.5*(s-r)+r}return p(l)}function fadeTo(e,t,o,n){return animate(e,{opacity:o},t,n)}function genFx(e,t){var o={};return each(Fx.Attrs.concat.apply([],Fx.Attrs.slice(0,t)),function(){o[this]=e}),o}function cssAnim(e,t,o,n){var i=intval(browser.version);if(e&&(browser.chrome&&i>14||browser.mozilla&&i>13||browser.opera&&i>2)){var a,r="all "+o.duration+"ms "+(o.func||"ease-out");e.style.WebkitTransition=r,e.style.MozTransition=r,e.style.OTransition=r,e.style.transition=r;var a=function(){return browser.opera&&intval(browser.version)<=12?e.removeEventListener("oTransitionEnd",a):removeEvent(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",a),e.style.WebkitTransition="",e.style.MozTransition="",e.style.OTransition="",e.style.transition="",n&&n(),!1};n&&(browser.opera&&intval(browser.version)<=12?e.addEventListener("oTransitionEnd",a):addEvent(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",a)),setTimeout(setStyle.pbind(e,t),0)}else animate(e,t,extend(o,{onComplete:n}))}function animateCount(e,t,o){if(e=ge(e),o=o||{},t=o.str?trim(t.toString())||"":positive(t),e){if(browser.msie6||browser.mobile&&!browser.safari_mobile&&!browser.android)return void val(e,t||"");var n=data(e,"curCount"),i=data(e,"nextCount");if("number"==typeof i||o.str&&"string"==typeof i)return void(t!=i&&data(e,"nextCount",t));if("number"==typeof n||o.str&&"string"==typeof n)return void(t!=n&&data(e,"nextCount",t));if(n=o.str?trim(val(e).toString())||"":positive(val(e)),"auto"===o.str&&(o.str=!n.match(/^\d+$/)||!t.match(/^\d+$/),o.str||(n=positive(n),t=positive(t))),n!=t){data(e,"curCount",t);var a,r,s,l=o.str?n.length==t.length?n<t:n.length<t.length:n<t,d=(l?t:n).toString(),c=(l?n:t).toString(),u=[],h=[],p="",f="";for(o.str||(c=new Array(d.length-c.length+1).join("0")+c),a=0,r=d.length;a<r&&(s=d.charAt(a))===c.charAt(a);a++)u.push(s);if(p=d.substr(a),f=c.substr(a),o.str){for(a=p.length;a>0&&(s=p.charAt(a))===f.charAt(a);a--)h.unshift(s);h.length&&(p=p.substr(0,a+1),f=f.substr(0,a+1))}u=u.join("").replace(/\s$/,"&nbsp;"),h=h.join("").replace(/^\s/,"&nbsp;"),trim(val(e))||val(e,"&nbsp;");var g=e.clientHeight||e.offsetHeight;val(e,'<div class="counter_wrap inl_bl"></div>');var v,m,_,b,w=e.firstChild,y=!0;u.length&&w.appendChild(v=ce("div",{className:"counter_const inl_bl",innerHTML:u})),u.length||(f=f.replace(/^0+/,"")),f&&("0"!=f||u.length)||(f="&nbsp;",y=!!u.length),w.appendChild(_=ce("div",{className:"counter_anim_wrap inl_bl"})),_.appendChild(b=ce("div",{className:"counter_anim "+(l?"counter_anim_inc":"counter_anim_dec"),innerHTML:'<div class="counter_anim_big"><span class="counter_anim_big_c">'+p+"</span></div>"+(y?'<div class="counter_anim_small"><span class="counter_anim_small_c">'+f+"</span></div>":"")},y?{marginTop:l?-g:0}:{right:0})),o.str&&setStyle(b,{textAlign:"right",right:0});var x=getSize(geByClass1("counter_anim_big_c",b,"span"))[0],C=y?"&nbsp;"==f?x:getSize(geByClass1("counter_anim_small_c",b,"span"))[0]:0;if(h.length&&w.appendChild(m=ce("div",{className:"counter_const inl_bl",innerHTML:h})),setStyle(w,{width:(v&&getSize(v)[0]||0)+(m&&getSize(m)[0]||0)+x+0}),void 0===browser.csstransitions){var T=browser,k=floatval(T.version);browser.csstransitions=T.chrome&&k>=9||T.mozilla&&k>=4||T.opera&&k>=10.5||T.safari&&k>=3.2||T.safari_mobile||T.android}var E=browser.csstransitions;setStyle(_,{width:l?C:x});var L=function(){val(e,t||" ");var n=data(e,"nextCount");data(e,"curCount",!1),data(e,"nextCount",!1),("number"==typeof n||o.str&&"string"==typeof n)&&setTimeout(animateCount.pbind(e,n,o),0),o.onDone&&o.onDone()},S=y?{marginTop:l?0:-g}:{marginRight:l?-C:0};E?(getStyle(_,"width"),addClass(_,"counter_css_anim_wrap"),x!=C&&setStyle(_,{width:l?x:C}),y&&setStyle(b,S),setTimeout(L,300),o.fadeMode&&(setStyle(geByClass1("counter_anim_big",e),"opacity",1),setStyle(geByClass1("counter_anim_small",e),"opacity",0))):(x!=C&&animate(_,{width:l?x:C},{duration:100}),y?animate(b,S,{duration:300,transition:Fx.Transitions.easeOutCirc,onComplete:L}):setTimeout(L,300))}}}function _cleanHide(e){e.temphide&&(removeEvent(e,"mouseout",e.temphide),removeAttr(e,"temphide"),removeAttr(e,"showing"))}function showTooltip(e,t){_cleanHide(e);var o=!0;e.temphide=function(){o=!1},addEvent(e,"mouseout",e.temphide),t.stat&&stManager.add(t.stat),stManager.add(["tooltips.js","tooltips.css"],function(){o&&(_cleanHide(e),e.tt&&e.tt.el&&!t.force||(tooltips.create(e,t),t.onCreate&&t.onCreate()),tooltips.show(e,t))})}function showTitle(e,t,o,n){e=ge(e);var i=function(){return t||e.getAttribute("data-title")};if(browser.msie&&browser.version<9)e.setAttribute("title",i());else{if(!o){var a=Math.round(20-getSize(e)[0]/2);o=[a,8]}showTooltip(e,extend({text:i,shift:o,black:1},n))}}function topMsg(e,t,o){if(o||(o="#D6E5F7"),e){clearTimeout(window.topMsgTimer);var n=ge("system_msg");n.style.backgroundColor=o,n.innerHTML=e,show(n),t&&(window.topMsgTimer=setTimeout(topMsg.pbind(!1),1e3*t))}else hide("system_msg")}function topError(e,t){if(e.message){var o=e;e="<b>JavaScript error:</b> "+o.message,o.stack&&__debugMode&&(e+="<br/>"+o.stack.replace(/\n/g,"<br/>"))}topMsg(e,t,"#FFB4A3")}function setTitle(e,t,o){if(e=ge(e),e&&!e.titleSet){if(t||(t=e),t.scrollWidth>t.clientWidth)e.setAttribute("title",trim(o||e.innerText||e.textContent));else{var n=geByTag1("b",e);n&&n.scrollWidth>n.clientWidth?e.setAttribute("title",trim(o||e.innerText||e.textContent)):e.removeAttribute("title")}e.titleSet=1}}function setFavIcon(){}function showGlobalPrg(e,t){var o=getXY(e),n=getSize(e),i=t||{},a=i.w||32,r=i.h||13,s=ge("global_prg");s.className=i.cls||"progress",setStyle(s,{left:o[0]+Math.floor((n[0]-a)/2)+intval(i.shift?i.shift[0]:0),top:o[1]+Math.floor((n[1]-r)/2)+intval(i.shift?i.shift[1]:0),width:a,height:r,display:"block","z-index":i.zIndex?i.zIndex:null}),i.hide&&(e.style.visibility="hidden")}function callHub(e,t){this.count=t||1,this.done=function(t){this.count-=t||1,this.count<=0&&e()}}function isChecked(e){return e=ge(e),hasClass(e,"on")?1:""}function checkbox(e,t){if(e=ge(e),e&&!hasClass(e,"disabled"))return void 0===t&&(t=!isChecked(e)),toggleClass(e,"on",t),!1}function disable(e,t){return e=ge(e),void 0===t&&(t=!hasClass(e,"disabled")),toggleClass(e,"disabled",t),!1}function autosizeSetup(e,t){if(e=ge(e)){if(e.autosize)return void e.autosize.update();t.minHeight=intval(t.minHeight)||intval(getStyle(e,"height")),t.maxHeight=intval(t.maxHeight);var o,n=getSize(e)[0],i=getStyle(e,"fontSize");n||(n=intval(getStyle(e,"width"))),n<1&&(n=intval(getStyle(e,"width",!1))),i.indexOf("em")>0&&(i=floatval(i)*vk.fs),i=intval(i),e.autosize={options:t,helper:ce("textarea",{className:"ashelper"},{width:n,height:10,fontFamily:getStyle(e,"fontFamily"),fontSize:i+"px",lineHeight:o=getStyle(e,"lineHeight"),boxSizing:getStyle(e,"boxSizing"),padding:t.ignorePadding?"0":getStyle(e,"padding")}),handleEvent:function(t,o){var n=o.charCode?String.fromCharCode(o.charCode):o.charCode;if(void 0===n&&(n=String.fromCharCode(o.keyCode),10==o.keyCode||13==o.keyCode?n="\n":!browser.msie&&o.keyCode<=40&&(n="")),!n)return t;if(!browser.msie)return t.substr(0,e.selectionStart)+n+t.substr(e.selectionEnd);var i=document.selection.createRange();return i.text&&(t=t.replace(i.text,"")),t+n},update:function(t){var n=e.value;!t||"blur"==t.type||"keyup"==t.type||browser.msie&&"keypress"!=t.type||t.ctrlKey||t.altKey||t.metaKey||(n=e.autosize.handleEvent(n,t)),n||(n=" "),e.autosize.helper.value!=n&&(e.autosize.helper.value=n);var i,a=e.autosize.options,r=getSize(e,!0)[1],s=e.autosize.helper.scrollHeight;a.exact&&(i=s%o)>2&&(s-=i-2),s<a.minHeight&&(s=a.minHeight);var l={overflow:"hidden"},d=getStyle(e,"overflow").indexOf("auto")>-1?"auto":"hidden";a.maxHeight&&s>a.maxHeight&&(s=a.maxHeight,extend(l,{overflow:"auto",overflowX:"hidden"})),r==s&&d==l.overflow||(l.height=s,setStyle(e,l),isFunction(a.onResize)&&a.onResize(s))}},t.exact&&("normal"==o&&(o="120%"),o=intval(o.indexOf("%")>0?i*intval(o)/100:o)),utilsNode.appendChild(e.autosize.helper),browser.opera_mobile?(setStyle(e,{overflow:"hidden"}),e.autosize.update(),addEvent(e,"blur",e.autosize.update)):(addEvent(e,"keydown keyup keypress",e.autosize.update),setTimeout(function(){setStyle(e,{overflow:"hidden",resize:"none"}),e.autosize.update();var t=val(e);val(e," ",!0),val(e,t,!0)},0))}}function sbWidth(){if(void 0===window._sbWidth){var e=ce("div",{innerHTML:'<div style="height: 75px;">1<br>1</div>'},{overflowY:"scroll",position:"absolute",width:"50px",height:"50px"});bodyNode.appendChild(e),window._sbWidth=e.offsetWidth-e.firstChild.offsetWidth-1,bodyNode.removeChild(e)}return window._sbWidth}function val(e,t,o){if(e=ge(e))return void 0!==t&&(e.setValue?(e.setValue(t),!o&&e.phonblur&&e.phonblur()):"INPUT"==e.tagName||"TEXTAREA"==e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,triggerEvent(e,"valueChanged")),e.getValue?e.getValue():("INPUT"==e.tagName||"TEXTAREA"==e.tagName?e.value:e.innerHTML)||""}function elfocus(e,t,o){e=ge(e);try{if(e.focus(),void 0!==t&&t!==!1||(t=e.value.length),void 0!==o&&o!==!1||(o=t),e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",o),n.moveStart("character",t),n.select()}else e.setSelectionRange&&e.setSelectionRange(t,o)}catch(i){}}function shortCurrency(){var e={};each(geByClass("_short_currency"),function(){var t=this.getAttribute("data-short")||"",o=winToUtf(t).length,n=getStyle(this,"fontFamily")||"tahoma,arial,sans-serif";if(!t)return!0;if("undefined"==typeof e[n]){for(var i="",a=o-1;a>=0;a--)i+="&#8399;";var r=ce("div",{innerHTML:"<b>"+t+"</b><b>"+i+"</b>"},{fontFamily:n,fontSize:"24px"});ge("utils").appendChild(r),e[n]=Math.abs(r.firstChild.offsetWidth-r.lastChild.offsetWidth)>=3*o,re(r)}e[n]&&val(this,t)})}function notaBene(e,t,o){if(e=ge(e)){o||elfocus(e);var n=data(e,"back")||data(e,"back",getStyle(e,"backgroundColor")),i={notice:"#FFFFE0",warning:"#FAEAEA"};setStyle(e,"backgroundColor",i[t]||t||i.warning),setTimeout(animate.pbind(e,{backgroundColor:n},300),400)}}function getCaretBoundingRect(e){var t=e.getBoundingClientRect(),o=null,n=null;if(t.top===t.bottom)return{left:0,top:0,bottom:0};if(document.selection)n=document.selection.createRange(),o=n.getClientRects()||[],o.length||(n.text="_",n.moveStart("character",-1),o=n.getClientRects(),n.text=""),o=o[o.length-1];else if(window.getSelection){var i=getSelection();if(n=i.getRangeAt(0),n.collapsed){var a=n.startOffset;n.setStart(n.startContainer,0),o=n.getClientRects(),n.setStart(n.startContainer,a)}o=o.length?o[o.length-1]:{right:t.left,top:t.top,bottom:t.top}}return{left:o.right-t.left,top:o.top-t.top,bottom:o.bottom-t.top}}function hasAccessibilityMode(){return!(!window.vk||!vk.a11y)}function __phCheck(e,t,o,n){t=t||{};var i=e.phshown,a=e.phcont,r=t.back,s=t.editable,l=t.phColor||"#8C8E91",d=t.activeColor||"#C0C8D0",c=t.hideBackAfter,u=t.timeout||0===t.timeout?t.timeout:100,h=t.period||200;if(s)var p=(void 0!==e.textContent?e.textContent:e.innerText)||geByTag("img",e).length;else var p=e.value;if(i&&(r&&p||!r&&(o&&!o.type||p))?(hide(a),e.phshown=!1):i||p||!r&&!n||(show(a),e.phshown=!0,browser.opera&&n&&(e.setAttribute("placeholder",""),e.removeAttribute("placeholder",""))),r&&!p){if(o&&!o.type){var f=c?hide.pbind(a.firstChild.firstChild):null;clearTimeout(e.phanim),e.phanim=setTimeout(function(){animate(a.firstChild.firstChild,{color:d},h,f)},u)}n&&(clearTimeout(e.phanim),c&&show(a.firstChild.firstChild),e.phanim=setTimeout(function(){animate(a.firstChild.firstChild,{color:l},h)},u))}}function placeholderSetup(e,t){var o,n=ge(e),i=!1,a=t?clone(t):{};if(n&&(!n.phevents||a.reload)&&(o=n.getAttribute?n.getAttribute("placeholder"):n.placeholder)){n.removeAttribute("placeholder");var r={},s=["Top","Bottom","Left","Right"];if(a.pad)r=a.pad;else{if(a.fast){for(var l=0;l<4;++l)r["padding"+s[l]]=3,r["margin"+s[l]]=0,r["border"+s[l]+"Width"]=1;extend(r,a.styles||{})}else{for(var d=[],l=0;l<4;++l)d.push("margin"+s[l]),d.push("padding"+s[l]),d.push("border"+s[l]+"Width");r=getStyle(n,d)}for(var l=0;l<4;++l){var c="margin"+s[l],u="border"+s[l]+"Width";r[c]=intval(r[c])+intval(r[u])+"px",delete r[u]}}if(a.reload){var h=n.previousSibling;h&&hasClass(h,"input_back_wrap")&&re(h)}var p=n.phcont=n.parentNode.insertBefore(ce("div",{className:"input_back_wrap no_select",innerHTML:'<div class="input_back"><div class="input_back_content'+(a.big?" big":"")+'" style="width: '+(getSize(n)[0]-20)+'px;">'+o+"</div></div>"}),n),f=domFC(p);domFC(f);setStyle(f,r);var g=__phCheck.pbind(n,a),v=browser.mobile?g:function(e,t){setTimeout(g.pbind(e,t),0)};browser.msie&&browser.version<8&&setStyle(f,{marginTop:1}),n.phonfocus=function(e){i||(n.focused=!0,cur.__focused=n,e===!0&&(setStyle(n,{backgroundColor:"#FFF"}),hide(f)),v(!0,!1))},n.phonblur=function(){i||(cur.__focused=n.focused=!1,show(f),v(!1,!0))},n.phshown=!0,n.phanim=null,(n.value||a.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||geByTag("img",n).length))&&(n.phshown=!1,hide(p)),browser.opera_mobile||(addEvent(p,"focus click",function(e){i||(a.editableFocus?(setTimeout(a.editableFocus.pbind(n),0),n.phonfocus()):(n.blur(),n.focus()))}),addEvent(n,"focus"+(a.editable?" click":""),n.phonfocus),addEvent(n,"keydown paste cut input",v)),addEvent(n,"blur",n.phonblur),n.check=v,n.getValue=function(){return a.editable?n.innerHTML:n.value},n.setPlaceholder=function(e){geByClass1("input_back_content",p).textContent=e},n.setDisabled=function(e){i=e},n.setValue=function(e){a.editable?n.innerHTML=e:n.value=e,__phCheck(n,a)},n.phevents=!0,n.phonsize=function(){},a.global||a.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push(function(e){for(var t=0,o=e.length;t<o;++t)removeData(e[t])}.pbind(cur.__phinputs))),cur.__phinputs.push(n))}}function placeholderInit(e,t){function o(e,t,o,n){t=t||{};var i=e.phshown,a=e.phcont,r=t.editable;if(r){var s=void 0!==e.textContent?e.textContent:e.innerText;s&&browser.opera&&s.match(/^[ ]+$/)&&(s=""),s||(s=geByTag("img",e).length>0),s||(s=geByTag("br",e).length>1)}else var s=e.value;i&&s?(hide(a),e.phshown=!1):i||s||(show(a),e.phshown=!0,browser.opera&&n&&(e.setAttribute("placeholder",""),e.removeAttribute("placeholder","")))}var n,i=ge(e),a=t?clone(t):{},r="undefined"==typeof ce("input").placeholder||i&&i.getAttribute&&i.getAttribute("contenteditable");if(i&&(!i.phevents||a.reload)&&(n=i.getAttribute?i.getAttribute("placeholder"):i.placeholder)&&(i.getValue=function(){return a.editable?i.innerHTML:i.value},i.setValue=function(e){a.editable?i.innerHTML=e:i.value=e,r&&o(i,a)},i.phonfocus=function(){},i.phonblur=function(){},r)){if(i.removeAttribute("placeholder"),a.reload){var s=domNS(i);s&&hasClass(s,"placeholder")&&re(s)}var l=i.phcont=domInsertAfter(ce("div",{className:"placeholder",innerHTML:'<div class="ph_input"><div class="ph_content">'+n+"</div></div>"}),i),d=domFC(l),c=(domFC(d),o.pbind(i,a)),u=browser.mobile?c:function(e,t){setTimeout(c.pbind(e,t),0)};i.phonfocus=function(e){i.focused=!0,cur.__focused=i,u(!0,!1)},i.phonblur=function(){cur.__focused=i.focused=!1,u(!1,!0)},i.phshown=!0,(i.value||a.editable&&((void 0!==i.textContent?i.textContent:i.innerText)||geByTag("img",i).length))&&(i.phshown=!1,hide(l)),browser.opera_mobile||(addEvent(l,"focus click",function(e){a.editableFocus?(setTimeout(a.editableFocus.pbind(i),0),i.phonfocus()):(i.blur(),i.focus())}),addEvent(i,"focus"+(a.editable?" click":""),i.phonfocus),addEvent(i,"keydown paste cut input",u)),addEvent(i,"blur",i.phonblur),i.check=u,i.phevents=!0,i.phonsize=function(){},a.global||a.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push(function(){if(cur.__phinputs)for(var e=0,t=cur.__phinputs.length;e<t;++e)removeData(cur.__phinputs[e])})),cur.__phinputs.push(i))}}function requestBox(e,t,o){return e.setOptions({onHide:o}),e.onDone=function(){e.setOptions({onHide:!1}),t()},e}function activateMobileBox(e){return requestBox(showBox("activation.php",{act:"activate_mobile_box",hash:e.hash,captcha:e.acceptCaptcha?1:""}),function(){vk.nophone=0,e.onDone()},e.onFail)}function curBox(){var e=_message_boxes[__bq.curBox];return e&&e.isVisible()?e:null}function boxRefreshCoords(e){var t=window.innerHeight||document.documentElement.clientHeight||boxLayerBG.offsetHeight,o=browser.mobile?intval(window.pageYOffset):0;containerSize=getSize(e),e.style.marginTop=Math.max(10,o+(t-containerSize[1])/3)+"px"}function MessageBox(options,dark){function refreshBox(){options.title?(boxTitle.innerHTML=options.title,removeClass(boxBody,"box_no_title"),show(boxTitleWrap)):(addClass(boxBody,"box_no_title"),hide(boxTitleWrap)),options.titleControls&&(boxTitleControls.innerHTML=options.titleControls),toggleClass(boxBody,"box_no_buttons",options.hideButtons),toggleClass(boxTitleWrap,"box_grey",options.grey),boxContainer.style.minWidth="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.width="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.height="string"==typeof options.height?options.height:options.height+"px"}function addButton(e,t,o){++buttonsCount;var o,n="flat_button";"no"==o||"gray"==o?(n+=" secondary",o="cancel"):o="ok";var i=function(){emitter.emit(o,retBox),t.apply(null,arguments)},a=ce("button",{className:n,innerHTML:e}),r=boxButtons.rows[0],s=r.insertCell(0);return s.appendChild(a),createButton(a,i),btns[o].push(a),a}function setControlsText(e){boxControlsText.innerHTML=e}function removeButtons(){for(var e=boxButtons.rows[0];e.cells.length;)cleanElems(e.cells[0]),e.deleteCell(0);btns.ok.length=btns.cancel.length=0}function showMe(e,t,o){if(!visible&&_message_boxes[guid]){visible=!0;var n=e===!0||t?0:options.animSpeed;if(options.hideOnBGClick&&addEvent(document,"click",__bq.hideBGClick),t||layers.boxshow(),__bq.currHiding){__bq.currHiding.shOther=!0;var i=__bq.currHiding.bodyNode.parentNode.parentNode;data(i,"tween").stop(!0)}n>0?fadeIn(boxContainer,n):show(boxContainer),boxRefreshCoords(boxContainer),options.onShow&&options.onShow(o),_message_box_shown=!0}}var defaults={title:!1,titleControls:"",width:450,height:"auto",animSpeed:0,bodyStyle:"",grey:!1,selfDestruct:!0,progress:!1,hideOnBGClick:!1,hideButtons:!1,onShow:!1,onHideAttempt:!1,onBeforeHide:!1,onHide:!1,onClean:!1,onDestroy:!1};options=extend(defaults,options);var buttonsCount=0,boxContainer,boxBG,boxLayout,boxTitleWrap,boxTitle,boxTitleControls,boxCloseButton,boxBody,boxControlsWrap,boxControls,boxButtons,boxProgress,boxControlsText,guid=_message_box_guid++,visible=!1,btns={ok:[],cancel:[]};options.progress||(options.progress="box_progress"+guid);var controlsStyle=options.hideButtons?' style="display: none"':"";boxContainer=ce("div",{className:"popup_box_container"+(options.containerClass?" "+options.containerClass:""),innerHTML:'      <div class="box_layout" onclick="__bq.skip=true;">      <div class="box_title_wrap"><div class="box_x_button"></div><div class="box_title_controls"></div><div class="box_title"></div></div>      <div class="box_body" style="'+options.bodyStyle+'"></div>      <div class="box_controls_wrap"'+controlsStyle+'><div class="box_controls">      <table cellspacing="0" cellpadding="0" class="fl_r"><tr></tr></table>      <div class="progress" id="'+options.progress+'"></div>      <div class="box_controls_text"></div>      </div></div>      </div>'},{display:"none"}),hide(boxContainer),boxLayout=domFC(boxContainer),boxTitleWrap=domFC(boxLayout),boxCloseButton=domFC(boxTitleWrap),boxTitle=domLC(boxTitleWrap),boxTitleControls=domNS(boxCloseButton),options.noCloseButton&&hide(boxCloseButton),boxBody=domNS(boxTitleWrap),boxControlsWrap=domNS(boxBody),boxControls=domFC(boxControlsWrap),boxButtons=domFC(boxControls),boxProgress=domNS(boxButtons),boxControlsText=domNS(boxProgress),boxLayer.appendChild(boxContainer),refreshBox(),boxRefreshCoords(boxContainer);var emitter=new EventEmitter,destroyMe=function(){isFunction(options.onClean)&&options.onClean(),isFunction(options.onDestroy)&&options.onDestroy(),removeButtons(),cleanElems(boxContainer,boxCloseButton,boxTitleWrap,boxControlsWrap),boxLayer.removeChild(boxContainer),delete _message_boxes[guid],options.onWidgetHide&&options.onWidgetHide()},hideMe=function(e,t,o){if(visible){visible=!1;var n=e===!0?0:options.animSpeed;options.hideOnBGClick&&removeEvent(document,"click",__bq.hideBGClick),isFunction(options.onBeforeHide)&&options.onBeforeHide(),_layerAnim&&!e&&layers.boxhide();var i=function(){__bq.currHiding==_message_boxes[guid]&&(__bq.currHiding=!1),_layerAnim||_message_boxes[guid].shOther||e||layers.boxhide(),!t&&options.selfDestruct?destroyMe():hide(boxContainer),isFunction(options.onHide)&&options.onHide(o)};n>0?(__bq.currHiding=_message_boxes[guid],fadeOut(boxContainer,n,i)):i()}};addEvent(boxCloseButton,"click",__bq.hideLast);var retBox=_message_boxes[guid]={guid:guid,_show:showMe,_hide:hideMe,bodyNode:boxBody,titleWrap:boxTitleWrap,btns:btns,show:function(){return __bq._show(guid),this},progress:boxProgress,showCloseProgress:addClass.pbind(boxTitleWrap,"box_loading"),hideCloseProgress:removeClass.pbind(boxTitleWrap,"box_loading"),showProgress:function(){hide(boxControlsText),show(boxProgress)},hideProgress:function(){hide(boxProgress),show(boxControlsText)},hide:function(e){return!(isFunction(options.onHideAttempt)&&!options.onHideAttempt(e))&&(__bq._hide(guid),!0)},isVisible:function(){return visible},bodyHeight:function(){return getStyle(boxBody,"height")},content:function(e){return options.onClean&&options.onClean(),boxBody.innerHTML=e,boxRefreshCoords(boxContainer),refreshBox(),this},emit:function(e,t){emitter.emit(e,t)},addButton:function(e,t,o,n){var i=addButton(e,t?t:this.hide,o);return n?i:this},setButtons:function(e,t,o,n){var i=this.removeButtons();return e?(i.addButton(e,t),o&&i.addButton(o,n,"no"),i):i.addButton(box_close)},setControlsText:setControlsText,removeButtons:function(){return removeButtons(),this},destroy:destroyMe,getOptions:function(){return options},on:function(e,t){emitter.on(e,t)},once:function(e,t){emitter.once(e,t)},setOptions:function(e){if(options.hideOnBGClick&&removeEvent(document,"click",__bq.hideBGClick),options=extend(options,e),"bodyStyle"in e)for(var t=options.bodyStyle.split(";"),o=0,n=t.length;o<n;++o){var i=t[o].split(":");i.length>1&&i[0].length&&(boxBody.style[trim(i[0])]=trim(i[1]),boxBody.style.setProperty&&boxBody.style.setProperty(trim(i[0]),trim(i[1]),""))}return options.hideOnBGClick&&addEvent(document,"click",__bq.hideBGClick),toggle(boxControlsWrap,!options.hideButtons),refreshBox(),options.noRefreshCoords||boxRefreshCoords(boxContainer),this},evalBox:function(js,url,params){var scr="((function() { return function() { var box = this; "+(js||"")+";}; })())";if(__debugMode){var fn=eval(scr);fn.apply(this,[url,params])}else try{var fn=eval(scr);fn.apply(this,[url,params])}catch(e){topError(e,{dt:15,type:7,url:url,query:params?ajx2q(params):void 0,js:js})}}};return retBox}function showBox(e,t,o,n){if(checkEvent(n))return!1;var i=o||{},a=i.params||{};i.containerClass&&(a.containerClass=i.containerClass);var r=new MessageBox(a),s={onDone:function(o,n,s,l){function d(){show(boxLayerBG),addClass(bodyNode,"layers_shown"),r.setOptions({title:o,hideButtons:a.hideButtons||!1}),i.showProgress?r.show():show(r.bodyNode),r.content(n),r.evalBox(s,e,t),i.onDone&&i.onDone(r,l)}if(!r.isVisible())return void(i.onDone&&i.onDone(r,l));if(__debugMode)d();else try{d()}catch(c){topError(c,{dt:15,type:103,url:e,query:ajx2q(t),answer:Array.prototype.slice.call(arguments).join("<!>")}),r.isVisible()&&r.hide()}},onFail:function(e){if(r.failed=!0,setTimeout(r.hide,0),isFunction(i.onFail))return i.onFail(e);
},cache:i.cache,stat:i.stat,fromBox:!0};return i.prgEl&&(i.showProgress=showGlobalPrg.pbind(i.prgEl,{cls:i.prgClass,w:i.prgW,h:i.prgH,hide:!0}),i.hideProgress=hide.pbind("global_prg")),i.showProgress?extend(s,{showProgress:i.showProgress,hideProgress:i.hideProgress}):(r.setOptions({title:!1,hideButtons:!0}).show(),__bq.count()<2&&(hide(boxLayerBG),removeClass(bodyNode,"layers_shown")),hide(r.bodyNode),s.showProgress=function(){show(boxLoader),boxRefreshCoords(boxLoader)},s.hideProgress=hide.pbind(boxLoader)),r.removeButtons().addButton(getLang("global_close")),ajax.post(e,t,s),r}function showTabbedBox(e,t,o,n){return o=o||{},o.stat=o.stat||[],o.stat.push("box.js","boxes.css"),showBox(e,t,o,n)}function showFastBox(e,t,o,n,i,a){return new MessageBox("string"==typeof e?{title:e}:e).content(t).setButtons(o,n,i,a).show()}function showCaptchaBox(e,t,o,n){var i=function(t){if(!t||void 0===t.keyCode||10==t.keyCode||13==t.keyCode){var i=geByTag1("input",o.bodyNode);if(!trim(i.value)&&t!==!0)return void elfocus(i);var a=geByTag1("img",o.bodyNode),r=a[0];a[1];removeEvent(i),removeEvent(r),show(geByClass1("progress",o.bodyNode)),hide(i),n.onSubmit(e,i.value)}},a=!!o,r=intval(t)?"":"&s=1",s=n.imgSrc||"/captcha.php?sid="+e+r;if(!a){var l='  <div class="captcha">    <div><img src="'+s+'"/></div>    <div><input type="text" class="big_text" maxlength="7" placeholder="'+getLang("global_captcha_input_here")+'" /><div class="progress" /></div></div>  </div>'+(n.addText||"");o=showFastBox({title:getLang("captcha_enter_code"),width:305,onHide:n.onHide,onDestroy:n.onDestroy||!1},l,getLang("captcha_send"),function(){o.submit()},getLang("captcha_cancel"),function(){var e=geByTag1("input",o.bodyNode),t=geByTag1("img",o.bodyNode);removeEvent(e),removeEvent(t),o.hide()})}o.submit=i.pbind(!0);var d=geByTag1("input",o.bodyNode),c=geByTag1("img",o.bodyNode);return a&&(d.value="",c.src="/captcha.php?sid="+e+r,hide(geByClass1("progress",o.bodyNode))),show(d),addEvent(d,"keypress",i),addEvent(c,"click",function(){this.src="/captcha.php?sid="+e+r+"&v="+irand(1e6,2e6)}),elfocus(d),o}function showReCaptchaBox(e,t,o,n){window.recaptchaResponse=function(e){n.onSubmit(e)};var i=!!o,a=!!window.grecaptcha;if(!i){a||(window.recaptchaCallback=function(){var t=curBox();if(t){var o=geByClass1("recaptcha",t.bodyNode);o&&(val(o,""),grecaptcha.render(o,{sitekey:e,callback:recaptchaResponse}))}},headNode.appendChild(ce("script",{type:"text/javascript",src:"https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit&hl="+t})));var r='<div class="recaptcha"></div>'+(n.addText||"");o=showFastBox({title:getLang("global_recaptcha_title"),width:354,onHide:n.onHide,onDestroy:n.onDestroy||!1},r,getLang("captcha_cancel"));var s=geByClass1("recaptcha",o.bodyNode);s.id="recaptcha"+(o.guid?o.guid:"0"),showProgress(s)}return i&&a?grecaptcha.reset():a&&recaptchaCallback(),o.changed=!0,o}function showDoneBox(e,t){t=t||{};var o=(t.w||380)+20,n=t.w?' style="width: '+t.w+'px;"':"",i=bodyNode.offsetWidth,a=ce("div",{className:"top_result_baloon_wrap fixed",innerHTML:'<div class="top_result_baloon"'+n+">"+e+"</div>"},{left:(i-o)/2});bodyNode.insertBefore(a,bodyNode.firstChild),boxRefreshCoords(a);var r=t.out||2e3,s=function(){setTimeout(function(){return t.permit&&!t.permit()?void s():void fadeOut(a.firstChild,500,function(){re(a),t.callback&&t.callback()})},r)};s()}function ElementTooltip(e,t){if(this.constructor!=ElementTooltip)throw new Error("ElementTooltip was called without 'new' operator");if(e=ge(e),!e||!e.nodeType)throw new Error("First argument not a DOM element");if(!data(e,"ett")){if(this._opts=extend({delay:100,offset:[0,0],type:ElementTooltip.TYPE_VERTICAL,id:"",cls:"",width:null,appendToParent:!1,autoShow:!0},t),this._opts.setPos&&!this._opts.forceSide)throw new Error("forceSide parameter should be set if you use setPos");this._opts.forceSide&&(this._opts.type=inArray(this._opts.forceSide,["top","down"])?ElementTooltip.TYPE_VERTICAL:ElementTooltip.TYPE_HORIZONTAL),this._appendToEl=this._opts.appendTo?this._opts.appendTo:this._opts.appendToParent?domClosestPositioned(e,{noOverflow:!0}):e,this._el=e,data(this._el,"ett",this),this._initEvents(e),this._clearTimeouts(),this._isShown=!1}}function radioval(e){return!!radioBtns[e]&&radioBtns[e].val}function radiobtn(e,t,o){if(radioBtns[o])return each(radioBtns[o].els,function(){this==e?addClass(this,"on"):removeClass(this,"on")}),radioBtns[o].val=t}function createButton(e,t){if(e=ge(e),e&&!e.btnevents){if(hasClass(e,"flat_button"))return void(isFunction(t)&&(e.onclick=t.pbind(e)));var o=e.parentNode;if(hasClass(o,"button_blue")||hasClass(o,"button_gray"))return void(isFunction(t)&&(e.onclick=t.pbind(e)));var n=!1;addEvent(e,"click mousedown mouseover mouseout",function(i){if(!hasClass(o,"locked"))switch(i.type){case"click":if(!n)return;return e.className="button_hover",t(e),cancelEvent(i);case"mousedown":e.className="button_down";break;case"mouseover":n=!0,e.className="button_hover";break;case"mouseout":e.className="button",n=!1}}),e.btnevents=!0}}function actionsMenuItemLocked(e){if(e=ge(e))return hasClass(e,"ui_actions_menu_item_lock")}function lockActionsMenuItem(e){if((e=ge(e))&&hasClass(e,"ui_actions_menu_item")&&!hasClass(e,"ui_actions_menu_item_lock")){data(e,"inner",e.innerHTML),addClass(e,"ui_actions_menu_item_lock");var t=ce("div",{className:"ui_actions_menu_item_lock_text"});val(t,e.innerHTML),e.appendChild(t),showProgress(e)}}function unlockActionsMenuItem(e){(e=ge(e))&&hasClass(e,"ui_actions_menu_item")&&hasClass(e,"ui_actions_menu_item_lock")&&(removeClass(e,"ui_actions_menu_item_lock"),e.innerHTML=data(e,"inner"))}function linkLocked(e){if(e=ge(e))return hasClass(e,"link_lock")}function lockLink(e){(e=ge(e))&&"a"==e.tagName.toLowerCase()&&!linkLocked(e)&&addClass(e,"link_lock")}function unlockLink(e){(e=ge(e))&&linkLocked(e)&&removeClass(e,"link_lock")}function lockButton(e){if((e=ge(e))&&("button"==e.tagName.toLowerCase()||hasClass(e,"flat_button")||hasClass(e,"wr_header"))&&!isButtonLocked(e)){var t=getSize(e);addClass(e,"flat_btn_lock"),data(e,"inner",e.innerHTML),setStyle(e,{width:t[0],height:t[1]}),e.innerHTML="",showProgress(e,"btn_lock")}}function unlockButton(e){(e=ge(e))&&isButtonLocked(e)&&(hideProgress(e),e.innerHTML=data(e,"inner"),removeClass(e,"flat_btn_lock"),setStyle(e,{width:null,height:null}))}function buttonLocked(e){return isButtonLocked(e)}function isButtonLocked(e){if(e=ge(e))return hasClass(e,"flat_btn_lock")}function disableButton(e,t){if((e=ge(e))&&"button"===e.tagName.toLowerCase())if(t){if(!isVisible(e))return;e.parentNode.insertBefore(ce("button",{innerHTML:e.innerHTML,className:e.className+" button_disabled"}),e),hide(e)}else{var o=domPS(e);o&&hasClass(o,"button_disabled")&&re(o),show(e)}}function lockFlatButton(e){e&&"button"==e.tagName.toLowerCase()&&!isButtonLocked(e)&&(addClass(e,"flat_btn_lock"),e.innerHTML='<span class="flat_btn_h">'+e.innerHTML+"</span>")}function unlockFlatButton(e){isButtonLocked(e)&&(e.innerHTML=e.firstChild.innerHTML,removeClass(e,"flat_btn_lock"))}function __adsGetAjaxParams(e,t){__adsGetAjaxParams=function(){return window.AdsLight&&AdsLight.getAjaxParams.apply(AdsLight.getAjaxParams,arguments)||{al_ad:null}};var o=stManager.add(["aes_light.js"],__adsGetAjaxParams.pbind(e,t));return o||{al_ad:null}}function __adsUpdate(e){__adsUpdate=function(){window.AdsLight&&AdsLight.updateBlock.apply(AdsLight.updateBlock,arguments)},stManager.add(["aes_light.js"],__adsUpdate.pbind(e))}function __adsSet(e,t,o,n,i){__adsSet=function(){window.AdsLight&&AdsLight.setNewBlock.apply(AdsLight.setNewBlock,arguments)},stManager.add(["aes_light.js"],__adsSet.pbind(e,t,o,n,i))}function showVideo(e,t,o,n){if(cur.viewAsBox)return cur.viewAsBox();if(checkEvent(n))return!0;if(window.mvcur&&mvcur.mvShown&&mvcur.minimized&&mvcur.videoRaw==e)return videoview.unminimize(),!1;o||(o={});var i=nav.objLoc.claim,a=["videoview.js","videoview.css","page.js","page.css"];o.playlistId&&(o.addParams=extend(o.addParams,{playlist_id:o.playlistId}),window.VideoPlaylist&&VideoPlaylist.getList(o.playlistId)||(o.addParams.load_playlist=intval(/^-?\d+_-?\d+$/.test(o.playlistId))));var r=new callHub(function(){o.hidden?o.hidden(r.data,o,t,e):(revertLastInlineVideo(),videoview.showVideo.apply(videoview,r.data))},2);stManager.add(a,function(){o.hidden||videoview.show(n,e,t,o),r.done()}),extend(o,{onDone:function(){r.data=arguments,r.done()},cache:"status"!=t});var s=o.params;return s||(s={act:"show",video:e,list:t,autoplay:o.autoplay?1:0,ad_video:o.ad_video,module:o.module||currentModule()||"",svids:o.svids}),o.addParams&&(s=extend(s,o.addParams)),trim(s.module)||extend(s,{_nol:JSON.stringify(nav.objLoc)}),i&&(s.claim=i),ajax.post("al_video.php",s,o),vkImage().src=locProtocol+"//vk.com/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-",!1}function videoCallback(e){var t=e.shift();if(!window.Videoview||!Videoview.playerCallback[t])throw Error("Unregistered player callback: "+t);Videoview.playerCallback[t].apply(Videoview,e)}function checkMp4(e){function t(t,o){if(!i){i=!0;var r=t?window.localStorage:window.sessionStorage;try{r.setItem("video_can_play_mp4",intval(t))}catch(s){}e(t,o),clearTimeout(n),a.src="",a.load(),a=a.onloadedmetadata=a.onerror=null}}if(window.localStorage&&localStorage.getItem("video_can_play_mp4"))return void e(!0);var o=window.sessionStorage&&sessionStorage.getItem("video_can_play_mp4");if(null!=o)return void e(!!intval(o));var n,i,a=ce("video");a.canPlayType&&a.canPlayType('video/mp4; codecs="avc1.42E01E,mp4a.40.2"').replace("no","")?(a.onloadedmetadata=t.pbind(!0),a.onerror=function(){t(!1,"error_"+a.error.code)},a.src="/images/blank.mp4",a.load(),n=setTimeout(t.pbind(!1,"timeout"),3e3)):t(!1,"video_type")}function updGlobalPlayer(){return!1}function audioSearchPerformer(e,t){}function padAudioPlaylist(){return window.audioPlaylist||ls.get("pad_playlist")}function toggleAudioLyrics(e,t,o,n){if(!n)return!1;var i=gpeByClass("_audio_row",t),a=geByClass1("_audio_lyrics_wrap",i);return a.innerHTML?(toggle(a),cancelEvent(e),!1):(n=intval(n),n&&(addClass(i,"audio_loading"),showProgress(i),ajax.post("al_audio.php",{act:"get_lyrics",aid:o,lid:n},{onDone:function(e){hideProgress(i),removeClass(i,"audio_loading"),a.innerHTML=e,show(a)}}),cancelEvent(e)),!1)}function getAudioPlayer(){return getAudioPlayer.run||extend(getAudioPlayer,{queue:[],run:function(){window.ap=new AudioPlayer;for(var e=null;e=getAudioPlayer.queue.shift();)ap[e.name].apply(ap,e.args)},wrapper:{toggleAudio:function(){return vk&&vk.widget&&!vk.id?(Widgets.oauth(),!1):void getAudioPlayer.queue.push({name:"toggleAudio",args:[].slice.call(arguments)})}}}),window.ap?ap:window.AudioPlayer?window.ap=new AudioPlayer:(stManager.add(["audioplayer.js","audioplayer.css","ui_common.js","ui_common.css"],getAudioPlayer.run),getAudioPlayer.wrapper)}function audioShowActionTooltip(e,t,o){if(!cur._addRestoreInProgress){var n,i=gpeByClass("_audio_row",e),a=AudioUtils.getAudioFromEl(i,!0),r=domData(e,"action"),s=AudioUtils.getAddRestoreInfo();switch(r){case"current_delete":n=getLang("audio_delete_from_current");break;case"recoms_delete":n=getLang("audio_dont_show");break;case"listened_delete":n=getLang("audio_remove_from_list");break;case"delete":if(window.AudioPage&&AudioPage.isInRecentPlayed(i))n=getLang("audio_remove_from_list");else{var l=s[a.fullId];n=l&&l.deleteAll?l.deleteAll.text:getLang("global_delete_audio")}break;case"restore_recoms":n=getLang("audio_restore_audio");break;case"add":var d=s[a.fullId];if(d&&"deleted"==d.state)n=getLang("audio_restore_audio");else if(d&&"added"==d.state)n=getLang("global_delete_audio");else{var c=!!window.AudioPage&&currentAudioPage(e);n=getLang(c&&c.getOwnerId()<0&&c.canAddToGroup()?"audio_add_to_group":"audio_add_to_audio")}break;case"edit":n=getLang("audio_edit_audio");break;case"next":n=cur.lang&&cur.lang.global_audio_set_next_audio||getLang("audio_set_next_audio");break;case"recoms":n=getLang("audio_show_recommendations")}var u={text:function(){return n},black:1,shift:t?t:[7,4,0],needLeft:!0,forcetodown:o};gpeByClass("_im_mess_stack",e)?(u.appendParentCls="_im_mess_stack",u.shift=[7,10,0],u.noZIndex=!0):gpeByClass("top_notify_wrap",e)&&(u.appendParentCls="top_notify_wrap"),showTooltip(e,u)}}function playAudioNew(){cur.gpHidden=!0;var e=arguments;e[e.length-1]!==!1&&(e=Array.prototype.slice.apply(arguments).concat([!0])),browser.ipad?audioPlayer.operate.apply(null,e):stManager.add(["audioplayer.js","audioplayer.css"],function(){audioPlayer.operate.apply(null,e)})}function currentAudioId(){return window.audioPlayer&&audioPlayer.id}function showAudioClaimWarning(e,t){var o,n,i=(e.ownerId,e.id),a=(t.id,e.title),r=t.reason;"geo"==r?(o=getLang("audio_claimed_geo"),n=getLang("audio_claim_warning_title")):(o=getLang("audio_claim_warning"),n=getLang("audio_claim_warning_title")),o=o.split("{audio}").join("<b>"+a+"</b>");var s=geByClass1("_audio_row_"+owner_id+"_"+i);s&&showTooltip(s,{slide:15,shift:[-3,6],dir:"auto",showdt:0,hidedt:200,appendEl:ge("main"),typeClass:"like_tt audio_claim_warning_tt",content:'<div class="audio_claim_warning_title">'+n+'</div><div class="audio_claim_warning_content">'+o+"</div>"})}function parallel(){var e=[].slice.call(arguments),t=e.pop(),o=new callHub(t,e.length);each(e,function(e,t){t(function(){o.done()})})}function shareAudioPlaylist(e,t,o,n){return showBox("like.php",{act:"publish_box",object:"audio_playlist"+t+"_"+o,list:n},{stat:["wide_dd.js","wide_dd.css","sharebox.js"]}),cancelEvent(e)}function isPhotoeditor3Available(){return!browser.msie||parseInt(browser.version)>10}function loadScript(e,t){function o(e){l.readyState&&"loaded"!=l.readyState&&"complete"!=l.readyState||(i(),r&&r())}function n(e){i(),s&&s()}function i(){clearTimeout(d),l.removeEventListener("load",o),l.removeEventListener("readystatechange",o),l.removeEventListener("error",n)}var a=t.timeout,r=t.onLoad,s=t.onError,l=document.createElement("script");if(l.addEventListener("load",o),l.addEventListener("readystatechange",o),l.addEventListener("error",n),l.src=e,document.head.appendChild(l),a)var d=setTimeout(n,a);return{destroy:function(){i()}}}function getStatusExportHash(){return vk.statusExportHash}(function(){"use strict";function e(){}function t(e,t){for(var o=e.length;o--;)if(e[o].listener===t)return o;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,i=this,a=i.EventEmitter;n.getListeners=function(e){var t,o,n=this._getEvents();if(e instanceof RegExp){t={};for(o in n)n.hasOwnProperty(o)&&e.test(o)&&(t[o]=n[o])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,o=[];for(t=0;t<e.length;t+=1)o.push(e[t].listener);return o},n.getListenersAsObject=function(e){var t,o=this.getListeners(e);return o instanceof Array&&(t={},t[e]=o),t||o},n.addListener=function(e,o){var n,i=this.getListenersAsObject(e),a="object"==typeof o;for(n in i)i.hasOwnProperty(n)&&-1===t(i[n],o)&&i[n].push(a?o:{listener:o,once:!1});return this},n.on=o("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=o("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,o){var n,i,a=this.getListenersAsObject(e);for(i in a)a.hasOwnProperty(i)&&(n=t(a[i],o),-1!==n&&a[i].splice(n,1));return this},n.off=o("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,o){var n,i,a=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=o.length;n--;)a.call(this,t,o[n]);else for(n in t)t.hasOwnProperty(n)&&(i=t[n])&&("function"==typeof i?a.call(this,n,i):r.call(this,n,i));return this},n.removeEvent=function(e){var t,o=typeof e,n=this._getEvents();if("string"===o)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=o("removeEvent"),n.emitEvent=function(e,t){var o,n,i,a,r=this.getListenersAsObject(e);for(i in r)if(r.hasOwnProperty(i))for(n=r[i].length;n--;)o=r[i][n],o.once===!0&&this.removeListener(e,o.listener),a=o.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,o.listener);return this},n.trigger=o("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=a,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}).call(this),window.__debugMode=!0;var parseJSON=window.JSON&&JSON.parse?function(obj){try{return JSON.parse(obj)}catch(e){return topError("<b>parseJSON:</b> "+e.message,{dt:-1,type:5,answer:obj}),eval("("+obj+")")}}:function(obj){return eval("("+obj+")")},cur={destroy:[],nav:[]},_ua=navigator.userAgent.toLowerCase(),browser={version:(_ua.match(/.+(?:me|ox|on|rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(_ua),msie:/msie/i.test(_ua)&&!/opera/i.test(_ua),msie6:/msie 6/i.test(_ua)&&!/opera/i.test(_ua),msie7:/msie 7/i.test(_ua)&&!/opera/i.test(_ua),msie8:/msie 8/i.test(_ua)&&!/opera/i.test(_ua),msie9:/msie 9/i.test(_ua)&&!/opera/i.test(_ua),mozilla:/firefox/i.test(_ua),chrome:/chrome/i.test(_ua),safari:!/chrome/i.test(_ua)&&/webkit|safari|khtml/i.test(_ua),iphone:/iphone/i.test(_ua),ipod:/ipod/i.test(_ua),iphone4:/iphone.*OS 4/i.test(_ua),ipod4:/ipod.*OS 4/i.test(_ua),ipad:/ipad/i.test(_ua),safari_mobile:/iphone|ipod|ipad/i.test(_ua),android:/android/i.test(_ua),opera_mobile:/opera mini|opera mobi/i.test(_ua),mobile:/iphone|ipod|ipad|opera mini|opera mobi/i.test(_ua),mac:/mac/i.test(_ua)},mobPlatforms={1:1,2:1,3:1,4:1,5:1};window.vk||(window.vk={loginscheme:"http",ip_h:""}),function(){var e=[0,0,0],t="ShockwaveFlash.ShockwaveFlash",o="embed",n='type="application/x-shockwave-flash" ',i=function(e){return e.toString().replace("&","&amp;").replace('"',"&quot;")};if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description)for(var r=a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),s=0;s<3;++s)e[s]=r[s]||0}else{if(_ua.indexOf("Windows CE")>=0)for(var l=!0,r=6;l;)try{++r,l=new ActiveXObject(t+"."+r),e[0]=r}catch(d){}else try{var l=new ActiveXObject(t+".7");e=l.GetVariable("$version").split(" ")[1].split(",")}catch(d){}o="object",n='classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" '}browser.flashwrap="embed"==o?function(e,t){t=extend({id:e.id,name:e.id,width:e.width,height:e.height,style:e.style,preventhide:e.preventhide},t),browser.flash>=e.version?t.src=e.url:t.src=e.express;var o=[];for(var a in t){var r=t[a];void 0!==r&&null!==r&&o.push(a+'="'+i(r)+'" ')}return"<embed "+n+o.join("")+"/>"}:function(e,t){browser.flash>=e.version?t.movie=e.url:t.movie=e.express;var o={id:e.id,width:e.width,height:e.height,style:e.style,preventhide:e.preventhide},a=[];for(var r in o){var s=o[r];void 0!==s&&null!==s&&a.push(r+'="'+i(s)+'" ')}var l=[];for(var r in t){var s=t[r];void 0!==s&&null!==s&&l.push('<param name="'+r+'" value="'+i(s)+'" />')}return"<object "+n+a.join("")+">"+l.join("")+"</object>"},e[0]<7&&(e=[0,0,0]),browser.flash=intval(e[0]),browser.flashfull={major:browser.flash,minor:intval(e[1]),rev:intval(e[2])}}();for(var i in StaticFiles){var f=StaticFiles[i];f.t=i.indexOf(".css")!=-1?"css":"js",f.n=i.replace(/[\\/\\.]/g,"_"),f.l=0,f.c=0}window.locHost=location.host,window.locProtocol=location.protocol,window.__dev=/[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+/i.test(locHost),__dev||(__debugMode=!1),window.locHash=location.hash.replace("#/","").replace("#!",""),window.locDomain=locHost.toString().match(/[a-zA-Z]+\.[a-zA-Z]+\.?$/)[0],window.locBase=location.toString().replace(/#.+$/,""),vk.nodomain||browser.msie6&&document.domain==locDomain||(document.domain=locDomain),window.__qlTimer=null,window.__qlClear=function(){clearTimeout(__qlTimer),setTimeout(function(){clearTimeout(__qlTimer)},2e3)},window.onLoginDone=function(){__qlClear(),nav.reload({force:!0,from:6})},window.onLogout=function(){__qlClear()},window._logTimer=(new Date).getTime(),Function.prototype.pbind=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(window),this.bind.apply(this,e)},Function.prototype.bind||(Function.prototype.bind=function(){var e=this,t=Array.prototype.slice.call(arguments),o=t.shift();return function(){var n=Array.prototype.slice.call(arguments);return e.apply(o,t.concat(n))}}),Object.keys||(Object.keys=function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o);return t}),window.vkExpand="VK"+vkNow(),window.vkUUID=0,window.vkCache={},window._postsSeen={},window._postsSaved={},window._postsSaveTimer,window._postsSendTimer,window._postsCleanTimer,window.ls={checkVersion:function(){return!1},set:function(e,t){return!1},get:function(e){return!1},remove:function(e){return!1}},window.stManager={emitter:new EventEmitter,_waiters:[],_wait:function(){var e=__stm._waiters.length,t={},o=[];if(!e)return clearInterval(__stm._waitTimer),void(__stm._waitTimer=!1);for(var n=0;n<e;++n){for(var i=__stm._waiters[n][0],a=0,r=i.length;a<r;++a){var s=i[a];if(!t[s])if(StaticFiles[s].l||"css"!=StaticFiles[s].t||"none"!=getStyle(StaticFiles[s].n,"display")||__stm.done(s),StaticFiles[s].l)t[s]=1;else if(t[s]=-1,vk.loaded){var l=++StaticFiles[s].c;(l>__stm.lowlimit&&stVersions[s]>0||l>__stm.highlimit)&&(stVersions[s]<0?(topError("<b>Error:</b> Could not load <b>"+s+"</b>.",{dt:5,type:1,msg:"Failed to load with "+__stm.lowlimit+"/"+__stm.highlimit+" limits ("+(vkNow()-vk.started)/100+" ticks passed)",file:s}),StaticFiles[s].l=1,t[s]=1):(topMsg("Some problems with loading <b>"+s+"</b>...",5),stVersions[s]=irand(-1e4,-1),__stm._add(s,StaticFiles[s])))}t[s]>0&&(i.splice(a,1),--a,--r)}i.length||(o.push(__stm._waiters.splice(n,1)[0][1]),--n,--e)}for(var n=0,e=o.length;n<e;++n)o[n]()},_addCss:function(e){var t=headNode.appendChild(ce("style",{type:"text/css",media:"screen"}));t.sheet?t.sheet.insertRule(e,0):t.styleSheet&&(t.styleSheet.cssText=e)},_srcPrefix:function(e,t){if(!vk.stDomains||__dev||e.indexOf(".js")==-1&&e.indexOf(".css")==-1||e.indexOf("lang")!=-1||e.indexOf("dyn-")!=-1||e.indexOf("loader_nav")!=-1||"https:"==location.protocol)return"";if(e.indexOf(".css")!=-1)return"http://st0.vk.me";e=e.replace(/[^a-z\d\.\-_]/gi,"");var o,n=intval(t),i=e.length;for(o=0;o<i;o++)n+=e.charCodeAt(o);return"http://st"+(n%vk.stDomains+1)+".vk.me"},_add:function(e,t){var o=e.replace(/[\/\.]/g,"_"),n=stVersions[e],i=e+"?"+n,a=stManager._srcPrefix(e,n);if(t&&t.l&&"css"==t.t&&__stm._addCss("#"+o+" {display: block; }"),StaticFiles[e]={v:n,n:o,l:0,c:0},e.indexOf(".js")!=-1){var r="/js/";stTypes.fromLib[e]?r+="lib/":stTypes.fromCompiled&&stTypes.fromCompiled[e]?r+=jsc("web/"):/^lang\d/i.test(e)||stTypes.fromRoot[e]||e.indexOf("/")!=-1||(r+="al/"),StaticFiles[e].t="js","common.js"==e?setTimeout(stManager.done.bind(stManager).pbind("common.js"),0):headNode.appendChild(ce("script",{type:"text/javascript",src:a+r+i}))}else if(e.indexOf(".css")!=-1){var r="/css/"+(vk.css_dir||"")+(stTypes.fromRoot[e]||e.indexOf("/")!=-1?"":"al/");headNode.appendChild(ce("link",{type:"text/css",rel:"stylesheet",href:a+r+i})),StaticFiles[e].t="css",ge(o)||utilsNode.appendChild(ce("div",{id:o}))}},add:function(e,t,o){var n=[],i=document.documentElement;isArray(e)||(e=[e]);for(var a in e){var r=e[a];if(r){r.indexOf("?")!=-1&&(r=r.split("?")[0]),/^lang\d/i.test(r)?stVersions[r]=stVersions.lang:stVersions[r]||(stVersions[r]=1);var s=browser.opera&&768==i.clientHeight&&1024==i.clientWidth;(s||__debugMode)&&!browser.iphone&&!browser.ipad&&"common.js"!=r&&"common.css"!=r&&stVersions[r]>0&&stVersions[r]<1e9&&(stVersions[r]+=irand(1e9,2e9));var l=StaticFiles[r];l&&l.v==stVersions[r]||__stm._add(r,l),t&&!StaticFiles[r].l&&n.push(r)}}if(t){if(!n.length)return o===!0?setTimeout(t,0):t();__stm._waiters.push([n,t]),__stm._waitTimer||(__stm._waitTimer=setInterval(__stm._wait,100))}},done:function(e){stVersions[e]<0&&topMsg('<b>Warning:</b> Something is bad, please <b><a href="/page-777107_43991681">clear your cache</a></b> and restart your browser.',10),StaticFiles[e].l=1,stManager.emitter.emitEvent("update",[e,StaticFiles[e]])}},__stm=stManager,window.ajaxCache={},window.globalAjaxCache={},window.ajax={_init:function(){var e=!1;try{if(e=new XMLHttpRequest)return void(ajax._req=function(){return new XMLHttpRequest})}catch(t){}each(["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],function(){try{var t=""+this;if(e=new ActiveXObject(t))return function(e){ajax._req=function(){return new ActiveXObject(e)}}(t),!1}catch(o){}}),ajax._req||location.replace("/badbrowser.php")},_getreq:function(){return ajax._req||ajax._init(),ajax._req()},_frameover:function(){var e=iframeTransport.parentNode;e.innerHTML="",utilsNode.removeChild(e),iframeTransport=!1,ajax.framegot(!1),cur.onFrameBlocksDone&&cur.onFrameBlocksDone()},_receive:function(cont,html,js){if(cont=cont&&ge(cont),cont&&html)for(html=ce("div",{innerHTML:html});html.firstChild;)cont.appendChild(html.firstChild);js&&eval("(function(){"+js+";})()"),ajax._framenext()},framedata:!1,_framenext:function(){if((ajax.framedata||{}).length){var e=ajax.framedata.shift();e===!0?ajax._framenext():e===!1?ajax.framedata=!1:setTimeout(ajax._receive.pbind(e[0],e[1],e[2]),0)}},framegot:function(e,t,o){ajax.framedata&&(ajax.framedata.push(void 0===t&&void 0===o?e:[e,t,o]),1===ajax.framedata.length&&ajax._framenext())},framepost:function(e,t,o){window.iframeTransport&&ajax._frameover(),window.iframeTransport=utilsNode.appendChild(ce("div",{innerHTML:"<iframe></iframe>"})).firstChild,ajax.framedata=[!0],ajax._framedone=o,iframeTransport.src=e+"?"+("string"!=typeof t?ajx2q(t):t)},plainpost:function(e,t,o,n){var i=ajax._getreq(),a="string"!=typeof t?ajx2q(t):t;i.onreadystatechange=function(){4==i.readyState&&(i.status>=200&&i.status<300?o&&o(i.responseText,i):i.status&&n&&n(i.responseText,i))};try{i.open("POST",e,!0)}catch(r){topMsg("<b>Ajax Error:</b> "+r.message)}return i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(a),i},post:function(e,t,o){"/"!=e.substr(0,1)&&(e="/"+e);var n=extend({_captcha:!1,_box:!1},o||{}),i=extend({al:n.frame?-1:1},t);return n.progress&&(n.showProgress||(n.showProgress=show.pbind(n.progress)),n.hideProgress||(n.hideProgress=hide.pbind(n.progress))),ajax._post(e,i,n)},preload:function(e,t,o){"/"!=e.substr(0,1)&&(e="/"+e),ajaxCache[e+"#"+ajx2q(t)]=o},_debugLog:function(e){window._updateDebug=function(){var t=ge("debuglogwrap");t&&(t.innerHTML=e,window._updateDebug=!1)}},_parseRes:function(answer){window._updateDebug=!1;for(var i=0;i<answer.length;++i){var ans=answer[i];if("<!"==ans.substr(0,2)){var from=ans.indexOf(">"),type=ans.substr(2,from-2);switch(ans=ans.substr(from+1),type){case"json":answer[i]=eval("("+ans+")");break;case"int":answer[i]=intval(ans);break;case"float":answer[i]=floatval(ans);break;case"bool":answer[i]=!!intval(ans);break;case"null":answer[i]=null;break;case"debug":ajax._debugLog(ans),answer.pop()}}}},_post:function(url,q,o){!q.captcha_sid&&o.showProgress&&o.showProgress();var cacheKey=!1;if(extend(q,__adsGetAjaxParams(q,o)),o.cache){var boldq=clone(q);delete boldq.al,delete boldq.al_ad,delete boldq.ads_section,delete boldq.captcha_sid,delete boldq.captcha_key,cacheKey=url+"#"+ajx2q(boldq)}var hideBoxes=function(){for(var e=0;e<arguments.length;++e){var t=arguments[e];t&&t.isVisible()&&(t.setOptions({onHide:!1}),t.hide())}return!1},fail=function(e){o.hideProgress&&o.hideProgress(),o._suggest&&cleanElems(o._suggest),o._suggest=o._captcha=o._box=hideBoxes(o._box,o._captcha),isFunction(o.onFail)&&o.onFail(e)||topError(e)},processResponse=function(code,answer){if(o.customProcessResponse)return o.customProcessResponse(code,answer);if(!o.cache||o.forceGlobalCache||(code||(ajaxCache[cacheKey]=answer),2!==o.cache)){switch(o.hideProgress&&o.hideProgress(),o._box=hideBoxes(o._box),o._captcha&&2!=code&&(o._suggest&&cleanElems(o._suggest),o._suggest=o._captcha=hideBoxes(o._captcha)),code){case 1:ge("confirm_mail")?showFastBox({width:430,title:ge("confirm_mail_title").value,onHide:o.onFail},'<div class="confirm_mail">'+ge("confirm_mail").innerHTML+"</div>"):topMsg("<b>Error!</b> Email is not confirmed!");break;case 2:if(2===intval(answer[1])){var resend=function(e){var t=extend(q,{recaptcha:e}),n=o.cache?extend(o,{cache:-1}):o;ajax._post(url,t,n)};o._captcha=showReCaptchaBox(answer[0],answer[2],o._captcha,{onSubmit:resend,addText:addText,onDestroy:function(){o.onFail&&o.onFail()}})}else{var resend=function(e,t){var n=extend(q,{captcha_sid:e,captcha_key:t}),i=o.cache?extend(o,{cache:-1}):o;ajax._post(url,n,i)},addText="";1!=vk.nophone||vk.nomail||(addText=getLang("global_try_to_activate").replace("{link}",'<a class="phone_validation_link">').replace("{/link}","</a>"),addText='<div class="phone_validation_suggest">'+addText+"</div>"),o._captcha=showCaptchaBox(answer[0],intval(answer[1]),o._captcha,{onSubmit:resend,addText:addText,onHide:function(){o.onFail&&o.onFail()}})}o._captcha&&o._captcha.bodyNode&&(o._suggest=geByClass1("phone_validation_link",o._captcha.bodyNode))&&addEvent(o._suggest,"click",function(){o._box=activateMobileBox({onDone:o._captcha.submit})});break;case 3:var no=o.cache?extend(o,{cache:-1}):o;window.onReLoginDone=ajax._post.pbind(url,q,no),window.onReLoginFailed=function(e){e===-1?location.href=location.href.replace(/^http:/,"https:"):e?nav.go("/"):window.onReLoginDone()};var iframe=ce("iframe",{src:vk.loginscheme+"://login.vk.com/?role=al_frame&_origin="+(locProtocol+"//"+locHost)+"&ip_h="+(answer[0]||vk.ip_h)}),t=0;utilsNode.appendChild(iframe);break;case 4:answer[1]?nav.go(answer[0]):(hab.stop(),location.href=answer[0]);break;case 5:nav.reload({force:intval(answer[0])});break;case 6:var no=o.cache?extend(o,{cache:-1}):o;o._box=activateMobileBox({onDone:ajax._post.pbind(url,q,no),onFail:o.onFail,hash:answer[0]});break;case 7:o.onFail&&o.onFail(),topMsg(answer[0],10);break;case 8:if(o.onFail&&o.onFail(answer[0]))return;topError(answer[0],answer[1]?0:10);break;case 9:o._box=showFastBox(answer[0],answer[1]);var no=extend(clone(o),{showProgress:o._box.showProgress,hideProgress:o._box.hideProgress});o.cache&&(no.cache=-1),o._box=requestBox(o._box,function(){isVisible(o._box.progress)||ajax._post(url,extend(q,{_votes_ok:1}),no)},o.onFail);var f=eval("((function() { return function() { var box = this; "+(answer[2]||"")+" ;}; })())");f.apply(o._box);break;case 10:o._box=showFastBox({title:answer[0]||getLang("global_charged_zone_title"),onHide:o.onFail},answer[1],getLang("global_charged_zone_continue"),function(){var e=extend(q,{charged_confirm:answer[3]});ajax._post(url,e,o)},getLang("global_cancel"));break;case 11:case 12:onBodyResize(!0),show(boxLayerBG),show(boxLayerWrap),cur.box=showFastBox({title:getLang("global_not_activated_title"),dark:1,hideOnBGClick:!0,bodyStyle:"line-height: 160%",onWidgetHide:function(){setTimeout(function(){hide(boxLayerBG),hide(boxLayerWrap)},0)}},getLang("global_mobile_need_validation").replace("{link}",'<br/><a onclick="cur.box.hide();" href="'+vk.loginscheme+'://vk.com/settings?z=validatebox">').replace("{/link}","</a>")),o.onFail.apply();break;default:if(code==-1||code==-2){var adsShowed=answer.pop(),adsCanShow=answer.pop(),adsHtml=answer.pop();
__adsSet(adsHtml,null,adsCanShow,adsShowed)}o.onDone&&o.onDone.apply(window,answer)}window._updateDebug&&_updateDebug()}},done=function(e,t){trim(e).length||(t=[8,getLang("global_unknown_error")],e=stVersions.nav+"<!><!>"+vk.lang+"<!>"+stVersions.lang+"<!>8<!>"+t[1]);var n=e.split("<!>"),i=intval(n.shift());if(!i)return fail(e);if(vk.version&&vk.version!=i)return void(i&&n.length>4?nav.reload({force:!0}):nav.strLoc?location.replace(locBase):topError("Server error."));vk.version=!1;var a=n.shift(),r=intval(n.shift()),s=intval(n.shift());o.frame&&(n=t);var l=intval(n.shift());if(vk.lang!=r&&o.canReload)return void nav.reload({force:!0});var d=function(){var e=[];if(a){a=a.split(",");for(var t=0;t<a.length;++t)e.push(a[t])}if(stVersions.lang<s){stVersions.lang=s;for(var t in StaticFiles)/^lang\d/i.test(t)&&e.push(t)}if(!o.frame)try{ajax._parseRes(n)}catch(i){topError("<b>JSON Error:</b> "+i.message)}stManager.add(e,processResponse.pbind(l,n))};return i<=stVersions.nav?d():(headNode.appendChild(ce("script",{type:"text/javascript",src:"/js/loader_nav"+i+"_"+vk.lang+".js"})),void setTimeout(function(){return i<=stVersions.nav?d():void setTimeout(arguments.callee,100)},0))};if(o.cache>0||o.forceGlobalCache){var answer=ajaxCache[cacheKey];if(answer&&!o.forceGlobalCache)return void processResponse(0,answer);if(answer=globalAjaxCache[cacheKey])return void(answer==-1?globalAjaxCache[cacheKey]=o.onDone:o.onDone.apply(window,answer))}return o.frame?ajax.framepost(url,q,done):ajax.plainpost(url,q,done,fail)}},window.hab=new HistoryAndBookmarks({onLocChange:function(e){nav.go("/"+e,void 0,{back:!0})}}),window.nav={getData:function(e){if(e.length){for(var t in navMap)if("<"!=t[0]){var o=e.match(new RegExp("^"+t,"i"));if(o)return{url:navMap[t][0],files:navMap[t][1]}}var o=e.match(/^[a-z0-9\-_]+\.php$/i);return o?{url:e}:{url:navMap["<other>"][0],files:navMap["<other>"][1]}}return{url:navMap["<void>"][0],files:navMap["<void>"][1]}},reload:function(e){e=e||{},e.force?(hab.stop(),location.href="/"+nav.strLoc):nav.go("/"+nav.strLoc,void 0,extend({nocur:!0},e))},go:function(e,t,o){if(!checkEvent(t)&&!cur.noAjaxNav){if(o=o||{},e.tagName&&"a"==e.tagName.toLowerCase()){if("_blank"==e.target||nav.baseBlank)return;var n=e.getAttribute("hrefparams");if(n&&(o.params=extend(o.params||{},q2ajx(n))),e=e.href||"",t&&!(e||"").match(new RegExp("^"+locProtocol+"//"+locHost,"i")))return}var i="",a={},r={};if("string"==typeof e?(e=e.replace(new RegExp("^("+locProtocol+"//"+locHost+")?/?","i"),""),i=e,a=nav.fromStr(e)):(e[0]||(e[0]=""),i=nav.toStr(e),a=e),!o.nocur){r=clone(a);for(var s in nav.objLoc)nav.objLoc[s]==r[s]?delete r[s]:void 0===r[s]&&(r[s]=!1)}if(!o.nocur&&(vk.loaded||!r[0]))for(var l=cur.nav||[],s=l.length-1;s>=0;s--){document.URL;if(l[s](clone(r),nav.objLoc,a,o)===!1){locProtocol+"//"+location.host+"/"+i;return!1}}}},setLoc:function(e){"string"==typeof e?(nav.strLoc=e,nav.objLoc=nav.fromStr(e)):(nav.strLoc=nav.toStr(e),nav.objLoc=e),hab.setLoc(nav.strLoc)},change:function(e,t,o){var n=clone(nav.objLoc);return each(e,function(e,t){t===!1?delete n[e]:n[e]=t}),nav.go(n,t,o)},fromStr:function(e){e=e.split("#");var t=e[0].split("?"),o={0:t[0]||""};return e[1]&&(o["#"]=e[1]),extend(q2ajx(t[1]||""),o)},toStr:function(e){e=clone(e);var t=e["#"]||"",o=e[0]||"";delete e[0],delete e["#"];var n=ajx2q(e);return(n?o+"?"+n:o)+(t?"#"+t:"")},init:function(){nav.strLoc=hab.getLoc(),nav.objLoc=nav.fromStr(nav.strLoc)}},nav.init(),window.onLogout=window.onLoginDone=nav.reload,window.KEY={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18},addEvent(window,"unload",function(){for(var e in vkCache)vkCache[e].handle&&vkCache[e].handle.elem!=window&&removeEvent(vkCache[e].handle.elem)});var layoutWidth=791;window._cookies,window.cf=function(e){var t=e.createDocumentFragment(),o=e.createElement("div"),n=e.createRange&&e.createRange();return t.appendChild(o),n&&n.selectNodeContents(o),n&&n.createContextualFragment?function(t){return t?n.createContextualFragment(t):e.createDocumentFragment()}:function(t){if(!t)return e.createDocumentFragment();o.innerHTML=t;for(var n=e.createDocumentFragment();o.firstChild;)n.appendChild(o.firstChild);return n}}(document),window.hfTimeout=0;var DISPLAY_SWAP_RGX=/^(none|table(?!-c[ea]).+)/;window.whitespaceRegex=/[\t\r\n\f]/g;var cssTransformProp=function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}(),Fx={Transitions:{linear:function(e,t,o,n){return o*e/n+t},sineInOut:function(e,t,o,n){return-o/2*(Math.cos(Math.PI*e/n)-1)+t},halfSine:function(e,t,o,n){return o*Math.sin(Math.PI*(e/n)/2)+t},easeOutBack:function(e,t,o,n){var i=1.70158;return o*((e=e/n-1)*e*((i+1)*e+i)+1)+t},easeInCirc:function(e,t,o,n){return-o*(Math.sqrt(1-(e/=n)*e)-1)+t},easeOutCirc:function(e,t,o,n){return o*Math.sqrt(1-(e=e/n-1)*e)+t},easeInQuint:function(e,t,o,n){return o*(e/=n)*e*e*e*e+t},easeOutQuint:function(e,t,o,n){return o*((e=e/n-1)*e*e*e*e+1)+t},easeOutCubic:function(e,t,o,n){return o*((e=e/n-1)*e*e+1)+t},swiftOut:function(e,t,o,n){return o*cubicBezier(.4,0,.22,1,e/n,4/n)+t}},Attrs:[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity","left","top"]],Timers:[],TimerId:null},fx=Fx;Fx.Base=function(e,t,o){this.el=ge(e),this.name=o,this.options=extend({onStep:function(){},onComplete:function(){},transition:t.transition||Fx.Transitions.sineInOut,duration:500},t||{})},each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){window[e]=function(e,o,n){return animate(e,t,o,n)}}),each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){window[e]=function(e,o,n){return animate(e,t,o,n)}}),Fx.Base.prototype={start:function(e,t){function o(e){return n.step(e)}this.from=e,this.to=t,this.time=vkNow(),this.isTweening=!0;var n=this;return o.el=this.el,o()&&Fx.Timers.push(o)&&!Fx.TimerId&&(Fx.TimerId=setInterval(function(){for(var e=Fx.Timers,t=e.length,o=0;o<t;o++)e[o]()||(e.splice(o--,1),t--);t||(clearInterval(Fx.TimerId),Fx.TimerId=null)},13)),this},stop:function(e){for(var t=Fx.Timers,o=t.length-1;o>=0;o--)t[o].el==this.el&&(e&&t[o](!0),t.splice(o,1));this.isTweening=!1},step:function(e){var t=vkNow();if(!e&&t<this.time+this.options.duration){this.cTime=t-this.time,this.now={};for(p in this.to)if(isArray(this.to[p])){var o,n=[];for(o=0;o<3;o++){if(void 0===this.from[p]||void 0===this.to[p])return!1;n.push(Math.min(parseInt(this.compute(this.from[p][o],this.to[p][o])),255))}this.now[p]=n}else this.now[p]=this.compute(this.from[p],this.to[p]),this.options.discrete&&(this.now[p]=intval(this.now[p]));return this.update(),!0}return setTimeout(this.options.onComplete.bind(this,this.el),10),this.now=extend(this.to,this.options.orig),this.update(),this.options.hide&&hide(this.el),this.isTweening=!1,!1},compute:function(e,t){var o=t-e;return this.options.transition(this.cTime,e,o,this.options.duration)},update:function(){this.options.onStep(this.now);for(var e in this.now)isArray(this.now[e])?setStyle(this.el,e,"rgb("+this.now[e].join(",")+")"):void 0!=this.el[e]?this.el[e]=this.now[e]:setStyle(this.el,e,this.now[e])},cur:function(e,t){return null==this.el[e]||this.el.style&&null!=this.el.style[e]?parseFloat(getStyle(this.el,e,t))||0:this.el[e]}},window._layerAnim=!1,window.layers={sh:!_layerAnim||browser.msie||browser.iphone?function(e,t){show(e),t&&t()}:function(e,t){fadeIn(e,200,t)},hd:!_layerAnim||browser.msie||browser.iphone?function(e,t){hide(e),t&&t()}:function(e,t){fadeOut(e,200,t)},visible:!1,_show:function(e,t,o,n){setStyle(e,{opacity:o||"",backgroundColor:n||""}),layers.visible||(toggleFlash(),browser.mozilla?(window._oldScroll=htmlNode.scrollTop,pageNode.style.height=_oldScroll+(window.lastWindowHeight||0)+"px",pageNode.style.marginTop=-_oldScroll+"px"):browser.msie6||((browser.msie7?htmlNode:bodyNode).style.overflow="hidden")),layers.visible=!0,addClass(bodyNode,"layers_shown"),t.visibilityHide?removeClass(t,"box_layer_hidden"):show(t),layers.sh(e)},_hide:function(e,t){var o=function(){t&&t.visibilityHide?addClass(t,"box_layer_hidden"):hide(t),isVisible(boxLayerWrap)&&!boxLayerWrap.visibilityHide||!(window.mvcur&&mvcur.minimized||!isVisible(window.mvLayerWrap))||isVisible(window.wkLayerWrap)||(layers.visible=!1,removeClass(bodyNode,"layers_shown"),toggleFlash(!0),browser.mozilla?(pageNode.style.height="auto",pageNode.style.marginTop="0px",window._oldScroll&&(htmlNode.scrollTop=_oldScroll)):browser.msie6||((browser.msie7?htmlNode:bodyNode).style.overflow="auto"))};layers.hd(e,o)}},window._message_box_guid=0,window._message_boxes=[],window._show_flash_timeout=0;var __bq=boxQueue={hideAll:function(e,t){if(e)for(;__bq.count();)__bq.hideLast();else{if(__bq.count()){var o=_message_boxes[__bq._boxes.pop()];o._in_queue=!1,o._hide(!1,!1,t)}for(;__bq.count();){var o=_message_boxes[__bq._boxes.pop()];o._in_queue=!1}}},hideLast:function(e,t){if(__bq.count()){var o=_message_boxes[__bq._boxes[__bq.count()-1]];if(e===!0&&(o.changed||__bq.skip||t&&t.target&&t.target.tagName&&"input"!=t.target.tagName.toLowerCase()&&cur.__mdEvent&&t.target!=cur.__mdEvent.target))return void(__bq.skip=!1);o.hide()}if(t&&"click"==t.type)return cancelEvent(t)},hideBGClick:function(e){e&&e.target&&/^box_layer/.test(e.target.id)&&__bq.hideLast()},count:function(){return __bq._boxes.length},_show:function(e){var t=_message_boxes[e];if(t&&!t._in_queue){__bq.count()?_message_boxes[__bq._boxes[__bq.count()-1]]._hide(!0,!0):window.tooltips&&tooltips.hideAll(),t._in_queue=!0;var o=!!__bq.count();__bq.curBox=e,t._show(o||__bq.currHiding,o),__bq._boxes.push(e)}},_hide:function(e){var t=_message_boxes[e];if(t&&t._in_queue&&__bq._boxes[__bq.count()-1]==e&&t.isVisible()&&(t._in_queue=!1,__bq._boxes.pop(),t._hide(!!__bq.count()),__bq.count())){var o=__bq._boxes[__bq.count()-1];__bq.curBox=o,_message_boxes[o]._show(!0,!0,!0)}},_boxes:[],curBox:0};__bq.hideLastCheck=__bq.hideLast.pbind(!0),browser.mobile||addEvent(document,"keydown",function(e){if(e.keyCode==KEY.ESC&&__bq.count())return __bq.hideLast(),!1}),ElementTooltip.TYPE_VERTICAL=0,ElementTooltip.TYPE_HORIZONTAL=1,ElementTooltip.FADE_SPEED=100,ElementTooltip.prototype._initEvents=function(e){this._opts.autoShow&&(addEvent(e,"mouseenter",this._onMouseEnter.bind(this)),addEvent(e,"mouseleave",this._onMouseLeave.bind(this)))},ElementTooltip.prototype._onMouseEnter=function(e){clearTimeout(this._hto),this._hto=!1,!this._isShown&&this._opts.autoShow&&(clearTimeout(this._reTimeout),this._reTimeout=!1,clearTimeout(this._sto),this._sto=setTimeout(this.show.bind(this),this._opts.delay))},ElementTooltip.prototype._onMouseLeave=function(e){this._clearTimeouts(),this._hto=setTimeout(this._hide.bind(this),200)},ElementTooltip.prototype._onMouseWindowClick=function(e){for(var t=e.target;t&&t!=this._ttel&&t!=document.body&&t!=this._el;)t=domPN(t);if(!t||t==document.body)return this.hide(!0),cancelEvent(e)},ElementTooltip.prototype.destroy=function(){this._clearTimeouts(),data(this._el,"ett",null),re(this._ttel),this._ev_wclick&&removeEvent(document,"mousedown",this._ev_wclick)},ElementTooltip.prototype.hide=function(e){this._hide(e)},ElementTooltip.prototype._onTooltipMouseEnter=function(e){this._clearTimeouts()},ElementTooltip.prototype._onTooltipMouseLeave=function(e){this._onMouseLeave()},ElementTooltip.prototype.build=function(){this._ttel||(this._ttel=se('<div class="eltt '+(this._opts.cls||"")+'" id="'+this._opts.id+'"></div>'),this._opts.content&&(isString(this._opts.content)?this._ttel.appendChild(se("<div>"+trim(this._opts.content)+"</div>")):this._ttel.appendChild(this._opts.content)),this._appendToEl.appendChild(this._ttel))},ElementTooltip.prototype.show=function(){if(this._clearTimeouts(),this._ttel||(this.build(),this._opts.onFirstTimeShow&&this._opts.onFirstTimeShow.call(this,this._ttel),this._opts.autoShow&&(addEvent(this._ttel,"mouseenter",this._ev_ttenter=this._onTooltipMouseEnter.bind(this)),addEvent(this._ttel,"mouseleave",this._ev_ttleave=this._onTooltipMouseLeave.bind(this)))),this._opts.width){var e=isFunction(this._opts.width)?this._opts.width.call(this):this._opts.width;setStyle(this._ttel,"width",e)}this._opts.onShow&&this._opts.onShow(this._ttel),this.updatePosition(),show(this._ttel),this._isShown=!0,setTimeout(addClass.pbind(this._ttel,"eltt_vis"),10),this._opts.elClassWhenTooltip&&addClass(this._el,this._opts.elClassWhenTooltip),this._ev_wclick&&removeEvent(document,"mousedown",this._ev_wclick),addEvent(document,"mousedown",this._ev_wclick=this._onMouseWindowClick.bind(this))},ElementTooltip.prototype.updatePosition=function(){var e,t=this._opts.forceSide,o=getXY(this._el),n=getSize(this._el),i=getSize(this._ttel);if(this._opts.setPos)e=this._currentPosition=this._opts.setPos.call(this,this._currentPosition||{})||{},t=this._opts.forceSide;else{if(!t){var a=domClosestOverflowHidden(this._el),r=getXY(a);r[1]+=scrollGetY()+30,t=this._opts.type==ElementTooltip.TYPE_VERTICAL?o[1]-r[1]<i[1]?"bottom":"top":o[0]-r[0]<i[0]?"right":"left"}var s=5,l=getXY(this._appendToEl);switch(parentOffset=[o[0]-l[0],o[1]-l[1]],t){case"bottom":e={left:-i[0]/2+n[0]/2+this._opts.offset[0]+parentOffset[0],top:n[1]+s-this._opts.offset[1]+parentOffset[1]};break;case"top":e={left:-i[0]/2+n[0]/2+this._opts.offset[0]+parentOffset[0],top:-i[1]-s+this._opts.offset[1]+parentOffset[1]};break;case"right":e={left:n[0]+s+this._opts.offset[0]+parentOffset[0],top:n[1]/2-i[1]/2+this._opts.offset[1]+parentOffset[1]};break;case"left":e={left:-i[0]-s+this._opts.offset[0]+parentOffset[0],top:n[1]/2-i[1]/2+this._opts.offset[1]+parentOffset[1]}}}var d=this;each(["top","bottom","left","right"],function(e,t){removeClass(d._ttel,"eltt_"+t)}),addClass(this._ttel,"eltt_"+t),setStyle(this._ttel,e)},ElementTooltip.prototype._hide=function(e){this._clearTimeouts(),this._reTimeout=setTimeout(function(){hide(this._ttel),this._opts.elClassWhenTooltip&&removeClass(this._el,this._opts.elClassWhenTooltip),this._opts.onHide&&this._opts.onHide(this._ttel,!!e)}.bind(this),ElementTooltip.FADE_SPEED),this._isShown=!1,removeClass(this._ttel,"eltt_vis"),this._ev_wclick&&removeEvent(document,"mousedown",this._ev_wclick)},ElementTooltip.prototype.isShown=function(){return this._isShown},ElementTooltip.prototype.toggle=function(){this.isShown()?this.hide():this.show()},ElementTooltip.prototype._clearTimeouts=function(){this._sto&&clearTimeout(this._sto),this._sto=!1,this._hto&&clearTimeout(this._hto),this._hto=!1,this._reTimeout&&clearTimeout(this._reTimeout),this._reTimeout=!1},ElementTooltip.prototype.getContent=function(){return this._ttel},window.radioBtns={},window.__adsLoaded=vkNow(),window._videoLastInlined=!1,window.VideoConstants={VIDEO_ITEM_INDEX_OWNER_ID:0,VIDEO_ITEM_INDEX_ID:1,VIDEO_ITEM_INDEX_THUMB:2,VIDEO_ITEM_INDEX_TITLE:3,VIDEO_ITEM_INDEX_FLAGS:4,VIDEO_ITEM_INDEX_DURATION:5,VIDEO_ITEM_INDEX_HASH:6,VIDEO_ITEM_INDEX_MODER_ACTS:7,VIDEO_ITEM_INDEX_OWNER:8,VIDEO_ITEM_INDEX_DATE:9,VIDEO_ITEM_INDEX_VIEWS:10,VIDEO_ITEM_FLAG_EXTERNAL:1,VIDEO_ITEM_FLAG_DOMAIN_YT:2,VIDEO_ITEM_FLAG_DOMAIN_COUB:4,VIDEO_ITEM_FLAG_DOMAIN_RT:8,VIDEO_ITEM_FLAG_DOMAIN_PLADFORM:16,VIDEO_ITEM_FLAG_DOMAIN_VIMEO:32,VIDEO_ITEM_FLAG_CAN_EDIT:64,VIDEO_ITEM_FLAG_CAN_DELETE:128,VIDEO_ITEM_FLAG_CAN_ADD:256,VIDEO_ITEM_FLAG_PRIVATE:512,VIDEO_ITEM_FLAG_NO_AUTOPLAY:1024,VIDEO_ITEM_FLAG_ADDED:2048,VIDEO_ITEM_FLAG_SKIP_THUMB_LOAD:4096,VIDEO_ITEM_FLAG_NEED_SIGN_IN:8192,VIDEO_ITEM_FLAG_HD:16384},window.Widgets={popupBoxWidth:450,popupBoxHeight:300,popupBoxOpen:function(e,t,o,n){n=extend({width:this.popupBoxWidth,height:this.popupBoxHeight,onClose:null},n),t=extend({widget:4},t),browser.safari&&(n.height+=45);var i=Math.max(0,(screen.width-n.width)/2)+(0|screen.availLeft),a=Math.max(0,(screen.height-n.height)/2)+(0|screen.availTop);/^https?:\/\//i.test(e)||(e=location.protocol+"//"+location.host+"/"+e.replace(/^\/+/,"")),window.activePopup=window.open(e+"?"+ajx2q(t),o,"width="+n.width+",height="+n.height+",left="+i+",top="+a+",menubar=0,toolbar=0,location=0,status=0"),activePopup&&(activePopup.focus(),n.onClose&&function r(){!activePopup||activePopup.closed?n.onClose():setTimeout(r,1e3)}())},popupBoxAdjust:function(e,t,o){function n(){return void 0!==window.screenX?screenX:window.screenLeft}function i(){return void 0!==window.screenY?screenY:window.screenTop}function a(){if(!l&&!o.nocenter||!d){l||null===u||null===h||u===n()&&h===i()||(l=!0);var a=g.scrollWidth,r=g.scrollHeight,s=Math.max(o.minWidth,o.forceWidth?e:a)+panelsWidth,c=Math.max(o.minHeight,o.forceHeight?t:r)+panelsHeight;screen.availWidth&&screen.availHeight&&(s=Math.min(screen.availWidth,s),c=Math.min(screen.availHeight,c)),s==popupWidth&&c==popupHeight||(popupWidth=s+(r+panelsHeight>c?sbWidth()+1:0),popupHeight=c,f=+new Date,l||o.nocenter||window.moveTo(Math.floor((screen.width-popupWidth+(browser.safari?-panelsWidth:panelsWidth))/2)+(0|screen.availLeft),Math.floor((screen.height-popupHeight+(browser.safari?-panelsHeight:panelsHeight))/2)+(0|screen.availTop)),window.resizeTo(popupWidth,popupHeight)),setTimeout(function(){l||(u=n(),h=i())},0)}}function r(e){v.style.overflow="hidden",!e&&setTimeout(function(){v.style.overflow=""},0)}function s(n){if(!l||!d){clearInterval(c),n&&extend(o,n),null===panelsHeight&&(void 0==window.innerWidth||void 0==window.outerWidth?(f=+new Date,window.resizeTo(e,t),panelsWidth=e-(document.documentElement.clientWidth||document.body.clientWidth),panelsHeight=t-(document.documentElement.clientHeight||document.body.clientHeight)):(panelsWidth=outerWidth-innerWidth,panelsHeight=outerHeight-innerHeight)),a();var i=0;c=setInterval(function(){a(),++i>=o.attempts&&clearInterval(c)},o.interval)}}o=extend({nocenter:!1,container:!1,forceWidth:!1,forceHeight:!1,minWidth:0,minHeight:0,attempts:5,interval:500},o),void 0==window.panelsHeight&&(window.panelsHeight=null),void 0==window.panelsWidth&&(window.panelsWidth=null),window.popupWidth=null,window.popupHeight=null;var l=o.nocenter,d=!1,c=0,u=null,h=null,p=!1,f=!1,g=o.container||geByClass1("box_layout")||ge("page_wrap"),v=ge("box_layer_wrap")||bodyNode;if(g&&v)return e||(e=this.popupBoxWidth),t||(t=this.popupBoxHeight),r(!0),"complete"===document.readyState&&(p=!0,r()),addEvent(window,"load",function(){p=!0,r()}),addEvent(window,"resize",function m(){if(p){if(f&&+new Date-f<1e3)return f=!1,void r();l=d=!0,clearInterval(c),removeEvent(window,"resize",m)}}),setTimeout(s,1),s},oauth:function(e,t){Widgets.popupBoxOpen(location.protocol+"//oauth.vk.com/authorize",extend({client_id:-1,redirect_uri:"close.html",display:"widget"},isObject(t)?t:{}),"vk_openapi",extend({width:655,height:430,onClose:window.gotSession?window.gotSession.pbind(!0):void 0},isObject(e)?e:{}))},showTooltip:function(e){return function(){var t=[].slice.call(arguments);return t[1]=extend(t[1]||{},{showIfFit:!0}),e.apply(this,t)}}(window.showTooltip),showCaptchaBox:function(e,t,o,n){var i=intval(t)?"":"&s=1",a=n.imgSrc||"/captcha.php?sid="+e+i;showBox("al_apps.php",{act:"show_captcha_box",sid:e,src:a,need_mobile:intval(1==window.need_mobile_act),widget_width:322}),cur.Rpc.methods.captcha=n.onSubmit||function(){},cur.Rpc.methods.captchaHide=function(){isFunction(cur.captchaHide)&&cur.captchaHide(),isFunction(n.onHide)&&n.onHide()}},showReCaptchaBox:function(e,t,o,n){showBox("al_apps.php",{act:"show_recaptcha_box",box_msg:n.addText,widget_width:352}),cur.Rpc.methods.recaptcha=n.onSubmit||function(){},cur.Rpc.methods.recaptchaHide=function(){isFunction(cur.recaptchaHide)&&cur.recaptchaHide(),isFunction(n.onHide)&&n.onHide()}},showPhoto:function(e,t){return showBox("al_photos.php",{act:"photo_box",photo:e,wall_owner:e.split("_")[0],list:t,widget_width:654}),!1},showVideo:function(e,t){return window.revertLastInlineVideo&&revertLastInlineVideo(),showBox("al_video.php",{act:"video_box",video:e,list:t,wall_owner:e.split("_")[0],widget_width:780,module:cur.module||"_alpost"}),!1},showSubscribeBox:function(e,t,o,n){window.subscribedCallback=t?t:function(){},Widgets.popupBoxOpen("widget_community.php",{act:"a_subscribe_box",oid:e,state:void 0!==o?o:1,is_event:n?1:void 0},"vk_subscribe",{height:291})},showUnsubscribeBox:function(e,t){window.unsubscribedCallback=t?t:function(){},Widgets.popupBoxOpen("widget_community.php",{act:"a_unsubscribe_box",oid:e},"vk_unsubscribe",{height:291})},showBox:function(e,t){var o=window.showBox;return e=extend(e||{},{"blank.php":!0,"al_apps.php":{show_captcha_box:!0,show_recaptcha_box:!0}}),function(n,i,a,r){if(!e[n]||isObject(e[n])&&!e[n][i.act])return debugLog("Forbidden request: "+i.act+" in "+n),o.apply(null,[].slice.call(arguments));window.tooltips&&tooltips.hideAll(),t&&t();var s=i.act&&isObject(e[n])&&e[n][i.act].stat;s&&cur.Rpc.callMethod("showLoader",!0),stManager.add(s||[],function(){i=extend({widget_hash:cur.widgetHash,widget:2,scrollbar_width:window.sbWidth(),widget_width:a&&a.params&&intval(a.params.width)||void 0},i),cur.Rpc.callMethod("showBox",n+"?"+ajx2q(i),{height:window.outerHeight||screen.availHeight||768,width:window.outerWidth||screen.availWidth||1028,base_domain:"//"+location.hostname+"/"})})}},showInlineVideo:function(videoId,listId,options,ev,thumb){if(checkEvent(ev))return!0;if(window.mvcur&&mvcur.mvShown)return showVideo(videoId,listId,options,ev);options=options||{},options.params=options.params||{act:"show_inline",video:videoId,list:listId,autoplay:options.autoplay?1:0,module:options.module||cur.module||""},trim(options.params.module)||extend(options.params,{_nol:JSON.stringify(nav.objLoc)});var h=thumb.clientHeight,w=thumb.clientWidth,btn=geByClass1("video_play_inline",thumb,"div");return extend(options.params,{width:w,height:h}),extend(options.params,options.addParams),options.onDone=function(title,html,js,opts){revertLastInlineVideo(),hide(thumb);var videoWrap=ce("div",{id:"page_video_inline_wrap"+videoId,className:"page_video_inline_wrap",innerHTML:html},{width:w,height:h}),videoBg=ge("video_background"+videoId);if(_videoLastInlined=[videoWrap,thumb],thumb.parentNode.appendChild(videoWrap),videoBg&&setStyle(geByTag1("img",videoBg),{width:w,height:h}),cur.mvOpts=!(!opts||!opts.mvData)&&opts.mvData,opts.player){var container=domByClass(videoWrap,"video_box_wrap");VideoInitializer.initPlayer(container,opts.player.type,opts.player.params)}try{eval("(function () {"+js+"})();")}catch(e){}if(!options.params.mute){var _n=window.Notifier,_a=window.audioPlayer;_n&&setTimeout(function(){_n.lcSend("video_start")},0),_a&&_a.player&&!_a.player.paused()&&(_a.pauseTrack(),_a.pausedByVideo=1)}},options.onFail=function(e){return showBox("blank.php",{code:1901}),!0},options.showProgress=function(){addClass(btn,"video_play_inline_loading")},options.hideProgress=function(){removeClass(btn,"video_play_inline_loading")},stManager.add("videoview.js",function(){ajax.post("al_video.php",options.params,options),vkImage().src=locProtocol+"//vk.com/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-"}),!1},revertLastInlineVideo:function(e){if(_videoLastInlined){var t,o=!1;if((e=ge(e))&&(t=_videoLastInlined[0])){for(;t=t.parentNode;)if(t==e){o=!0;break}if(!o)return}re(_videoLastInlined[0]),show(_videoLastInlined[1]),_videoLastInlined=!1,delete cur.mvOpts}},pauseLastInlineVideo:function(){if(_videoLastInlined){var e=ge("video_player")||window.html5video||null;e&&e.playVideo&&e.playVideo(!1)}}},addEvent(window,"DOMContentLoaded load",function(){vk.loaded=!0});try{stManager.done("lite.js")}catch(e){}
//# sourceMappingURL=maps/lite.js.map
